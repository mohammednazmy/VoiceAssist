{
  "path": "services/api-gateway/app/api/admin/schemas.py",
  "language": "python",
  "size": 2105,
  "last_modified": "2025-12-05T03:07:13.124Z",
  "lines": 95,
  "content": "\"\"\"Admin Panel Pydantic Schemas.\n\nDefines request and response models for admin panel endpoints.\n\"\"\"\n\nfrom typing import Literal, Optional\n\nfrom pydantic import BaseModel, EmailStr\n\n\nclass UserCreate(BaseModel):\n    \"\"\"Request model for creating a user.\"\"\"\n\n    email: EmailStr\n    full_name: str\n    is_admin: bool = False\n    admin_role: str = \"user\"\n    is_active: bool = True\n\n\nclass UserUpdate(BaseModel):\n    \"\"\"Request model for updating a user.\"\"\"\n\n    email: Optional[EmailStr] = None\n    full_name: Optional[str] = None\n    is_admin: Optional[bool] = None\n    admin_role: Optional[str] = None\n    is_active: Optional[bool] = None\n    action_reason: Optional[str] = None\n\n\nclass PasswordResetRequest(BaseModel):\n    \"\"\"Request model for password reset.\"\"\"\n\n    method: Literal[\"temporary\", \"email\"]\n    notify_user: bool = True\n\n\nclass UserInviteRequest(BaseModel):\n    \"\"\"Request model for inviting a new user.\"\"\"\n\n    email: EmailStr\n    full_name: Optional[str] = None\n    admin_role: Literal[\"user\", \"admin\", \"viewer\"] = \"user\"\n    send_email: bool = True\n\n\nclass UserResponse(BaseModel):\n    \"\"\"Response model for user data.\"\"\"\n\n    id: str\n    email: str\n    full_name: Optional[str]\n    is_admin: bool\n    admin_role: str\n    is_active: bool\n    created_at: str\n    last_login: Optional[str]\n\n    class Config:\n        from_attributes = True\n\n\nclass AuditLogEntryResponse(BaseModel):\n    \"\"\"Response model for audit log entry.\"\"\"\n\n    timestamp: str\n    level: str\n    action: str\n    user_id: Optional[str]\n    user_email: Optional[str]\n    resource_type: Optional[str]\n    resource_id: Optional[str]\n    success: bool\n    details: Optional[str]\n\n\nclass BulkOperationRequest(BaseModel):\n    \"\"\"Request model for bulk user operations.\"\"\"\n\n    user_ids: list[str]\n    action: Literal[\"activate\", \"deactivate\", \"delete\", \"promote\", \"demote\"]\n    reason: Optional[str] = None\n\n\nclass PermanentDeleteRequest(BaseModel):\n    \"\"\"Request model for permanent user deletion.\"\"\"\n\n    confirmation: str\n    reason: Optional[str] = None\n\n\n# Constants\nALLOWED_ADMIN_ROLES = {\"admin\", \"viewer\", \"user\"}\n"
}
