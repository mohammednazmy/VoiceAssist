{
  "path": "apps/web-app/src/components/admin/AdminErrorBoundary.tsx",
  "language": "typescript",
  "size": 4036,
  "last_modified": "2025-11-27T02:50:32.088Z",
  "lines": 131,
  "content": "/**\n * Error Boundary for Admin Components\n * Catches errors in admin components and displays a fallback UI\n */\n\nimport { Component, ReactNode } from \"react\";\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  onError?: (error: Error, errorInfo: React.ErrorInfo) => void;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n}\n\nexport class AdminErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    console.error(\"Admin component error:\", error, errorInfo);\n    this.props.onError?.(error, errorInfo);\n  }\n\n  handleRetry = () => {\n    this.setState({ hasError: false, error: null });\n  };\n\n  render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      return (\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex flex-col items-center justify-center text-center\">\n            <div className=\"w-16 h-16 mb-4 rounded-full bg-red-100 flex items-center justify-center\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                strokeWidth={1.5}\n                stroke=\"currentColor\"\n                className=\"w-8 h-8 text-red-600\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z\"\n                />\n              </svg>\n            </div>\n            <h3 className=\"text-lg font-semibold text-neutral-900 mb-2\">\n              Something went wrong\n            </h3>\n            <p className=\"text-sm text-neutral-600 mb-4 max-w-sm\">\n              {this.state.error?.message || \"An unexpected error occurred\"}\n            </p>\n            <button\n              onClick={this.handleRetry}\n              className=\"px-4 py-2 text-sm font-medium text-white bg-primary-500 rounded-md hover:bg-primary-600 transition-colors\"\n            >\n              Try Again\n            </button>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n/**\n * Fallback component for admin errors\n */\nexport function AdminErrorFallback({\n  error,\n  onRetry,\n}: {\n  error?: Error;\n  onRetry?: () => void;\n}) {\n  return (\n    <div className=\"bg-white rounded-lg shadow p-6\">\n      <div className=\"flex flex-col items-center justify-center text-center\">\n        <div className=\"w-16 h-16 mb-4 rounded-full bg-red-100 flex items-center justify-center\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            strokeWidth={1.5}\n            stroke=\"currentColor\"\n            className=\"w-8 h-8 text-red-600\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z\"\n            />\n          </svg>\n        </div>\n        <h3 className=\"text-lg font-semibold text-neutral-900 mb-2\">\n          Failed to load component\n        </h3>\n        <p className=\"text-sm text-neutral-600 mb-4 max-w-sm\">\n          {error?.message || \"An unexpected error occurred\"}\n        </p>\n        {onRetry && (\n          <button\n            onClick={onRetry}\n            className=\"px-4 py-2 text-sm font-medium text-white bg-primary-500 rounded-md hover:bg-primary-600 transition-colors\"\n          >\n            Retry\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n"
}
