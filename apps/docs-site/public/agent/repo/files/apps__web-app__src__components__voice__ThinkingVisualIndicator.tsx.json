{
  "path": "apps/web-app/src/components/voice/ThinkingVisualIndicator.tsx",
  "language": "typescript",
  "size": 4196,
  "last_modified": "2025-12-04T18:47:50.951Z",
  "lines": 180,
  "content": "/**\n * ThinkingVisualIndicator Component\n * Provides visual feedback for thinking/processing states.\n *\n * Part of Voice Mode Enhancement Plan v4.1\n * Reference: /home/asimo/.claude/plans/noble-bubbling-trinket.md#thinking-tone-ux-improvements\n */\n\nimport React from \"react\";\n\nexport type ThinkingVisualStyle = \"dots\" | \"pulse\" | \"spinner\" | \"progress\";\n\ninterface ThinkingVisualIndicatorProps {\n  style: ThinkingVisualStyle;\n  className?: string;\n  size?: \"sm\" | \"md\" | \"lg\";\n  color?: string;\n}\n\n/**\n * Animated dots indicator\n */\nfunction DotsIndicator({\n  size,\n  color,\n}: {\n  size: \"sm\" | \"md\" | \"lg\";\n  color: string;\n}) {\n  const dotSize =\n    size === \"sm\" ? \"w-1.5 h-1.5\" : size === \"md\" ? \"w-2 h-2\" : \"w-3 h-3\";\n  const gap = size === \"sm\" ? \"gap-1\" : size === \"md\" ? \"gap-1.5\" : \"gap-2\";\n\n  return (\n    <div className={`flex items-center ${gap}`}>\n      {[0, 1, 2].map((i) => (\n        <div\n          key={i}\n          className={`${dotSize} rounded-full animate-bounce`}\n          style={{\n            backgroundColor: color,\n            animationDelay: `${i * 0.15}s`,\n            animationDuration: \"0.6s\",\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n\n/**\n * Pulsing circle indicator\n */\nfunction PulseIndicator({\n  size,\n  color,\n}: {\n  size: \"sm\" | \"md\" | \"lg\";\n  color: string;\n}) {\n  const circleSize =\n    size === \"sm\" ? \"w-4 h-4\" : size === \"md\" ? \"w-6 h-6\" : \"w-8 h-8\";\n\n  return (\n    <div className=\"relative flex items-center justify-center\">\n      <div\n        className={`${circleSize} rounded-full animate-ping absolute opacity-50`}\n        style={{ backgroundColor: color }}\n      />\n      <div\n        className={`${circleSize} rounded-full`}\n        style={{ backgroundColor: color }}\n      />\n    </div>\n  );\n}\n\n/**\n * Spinning loader indicator\n */\nfunction SpinnerIndicator({\n  size,\n  color,\n}: {\n  size: \"sm\" | \"md\" | \"lg\";\n  color: string;\n}) {\n  const spinnerSize =\n    size === \"sm\" ? \"w-4 h-4\" : size === \"md\" ? \"w-6 h-6\" : \"w-8 h-8\";\n  const borderWidth = size === \"sm\" ? \"border-2\" : \"border-3\";\n\n  return (\n    <div\n      className={`${spinnerSize} ${borderWidth} rounded-full animate-spin`}\n      style={{\n        borderColor: `${color}33`,\n        borderTopColor: color,\n      }}\n    />\n  );\n}\n\n/**\n * Progress bar indicator\n */\nfunction ProgressIndicator({\n  size,\n  color,\n}: {\n  size: \"sm\" | \"md\" | \"lg\";\n  color: string;\n}) {\n  const height = size === \"sm\" ? \"h-1\" : size === \"md\" ? \"h-1.5\" : \"h-2\";\n  const width = size === \"sm\" ? \"w-16\" : size === \"md\" ? \"w-24\" : \"w-32\";\n\n  return (\n    <div\n      className={`${width} ${height} rounded-full overflow-hidden`}\n      style={{ backgroundColor: `${color}33` }}\n    >\n      <div\n        className={`h-full rounded-full animate-progress-indeterminate`}\n        style={{ backgroundColor: color }}\n      />\n      <style>\n        {`\n          @keyframes progress-indeterminate {\n            0% {\n              width: 0%;\n              margin-left: 0%;\n            }\n            50% {\n              width: 50%;\n              margin-left: 25%;\n            }\n            100% {\n              width: 0%;\n              margin-left: 100%;\n            }\n          }\n          .animate-progress-indeterminate {\n            animation: progress-indeterminate 1.5s ease-in-out infinite;\n          }\n        `}\n      </style>\n    </div>\n  );\n}\n\n/**\n * ThinkingVisualIndicator\n * Renders different visual feedback styles for thinking states.\n */\nexport function ThinkingVisualIndicator({\n  style,\n  className = \"\",\n  size = \"md\",\n  color = \"#6366f1\", // Default indigo-500\n}: ThinkingVisualIndicatorProps) {\n  const indicators: Record<ThinkingVisualStyle, React.ReactNode> = {\n    dots: <DotsIndicator size={size} color={color} />,\n    pulse: <PulseIndicator size={size} color={color} />,\n    spinner: <SpinnerIndicator size={size} color={color} />,\n    progress: <ProgressIndicator size={size} color={color} />,\n  };\n\n  return (\n    <div\n      className={`inline-flex items-center justify-center ${className}`}\n      role=\"status\"\n      aria-label=\"Processing\"\n    >\n      {indicators[style]}\n      <span className=\"sr-only\">Processing...</span>\n    </div>\n  );\n}\n\nexport default ThinkingVisualIndicator;\n"
}
