{
  "path": "apps/admin-panel/src/components/dashboard/MetricCard.tsx",
  "language": "typescript",
  "size": 3749,
  "last_modified": "2025-11-29T04:26:40.442Z",
  "lines": 123,
  "content": "import { ConnectionStatus } from \"../../services/websocket\";\n\nconst statusStyles: Record<ConnectionStatus, string> = {\n  connecting: \"text-amber-400 border-amber-500/50 bg-amber-500/10\",\n  open: \"text-emerald-400 border-emerald-500/50 bg-emerald-500/10\",\n  reconnecting: \"text-sky-400 border-sky-500/50 bg-sky-500/10\",\n  closed: \"text-slate-400 border-slate-500/50 bg-slate-500/10\",\n  error: \"text-red-400 border-red-500/50 bg-red-500/10\",\n};\n\nexport interface MetricCardProps {\n  title: string;\n  value: number;\n  icon: string;\n  color: \"blue\" | \"green\" | \"purple\";\n  connectionStatus?: ConnectionStatus;\n  lastUpdated?: string | null;\n  autoRefresh?: boolean;\n  isPaused?: boolean;\n  showControls?: boolean;\n  onToggleAutoRefresh?: () => void;\n  onTogglePause?: () => void;\n  onRefresh?: () => void;\n}\n\nconst colorThemes = {\n  blue: \"from-blue-900/50 to-blue-950/30 border-blue-800 text-blue-400\",\n  green: \"from-green-900/50 to-green-950/30 border-green-800 text-green-400\",\n  purple:\n    \"from-purple-900/50 to-purple-950/30 border-purple-800 text-purple-400\",\n};\n\nexport function MetricCard({\n  title,\n  value,\n  icon,\n  color,\n  connectionStatus,\n  lastUpdated,\n  autoRefresh,\n  isPaused,\n  showControls = false,\n  onToggleAutoRefresh,\n  onTogglePause,\n  onRefresh,\n}: MetricCardProps) {\n  const renderStatus = () => {\n    if (!connectionStatus) return null;\n    return (\n      <div\n        className={`inline-flex items-center gap-2 px-3 py-1 rounded-full border ${statusStyles[connectionStatus]}`}\n      >\n        <span className=\"h-2 w-2 rounded-full bg-current\" aria-hidden />\n        <span className=\"text-xs font-medium capitalize\">\n          {connectionStatus}\n        </span>\n      </div>\n    );\n  };\n\n  const renderControls = () => {\n    if (!showControls) return null;\n    return (\n      <div className=\"flex flex-wrap items-center gap-2 text-xs text-slate-200\">\n        {renderStatus()}\n        {lastUpdated && (\n          <span className=\"px-3 py-1 rounded-full bg-slate-800/60 border border-slate-700\">\n            Last updated {new Date(lastUpdated).toLocaleTimeString()}\n          </span>\n        )}\n        <button\n          type=\"button\"\n          onClick={onToggleAutoRefresh}\n          className={`px-3 py-1 rounded-md border text-xs font-medium transition-colors ${\n            autoRefresh\n              ? \"border-emerald-500/40 text-emerald-300 bg-emerald-500/10\"\n              : \"border-slate-600 text-slate-200 bg-slate-800\"\n          }`}\n        >\n          {autoRefresh ? \"Auto-refresh on\" : \"Auto-refresh off\"}\n        </button>\n        <button\n          type=\"button\"\n          onClick={onTogglePause}\n          className={`px-3 py-1 rounded-md border text-xs font-medium transition-colors ${\n            isPaused\n              ? \"border-amber-500/40 text-amber-200 bg-amber-500/10\"\n              : \"border-blue-500/40 text-blue-200 bg-blue-500/10\"\n          }`}\n        >\n          {isPaused ? \"Resume\" : \"Pause\"}\n        </button>\n        <button\n          type=\"button\"\n          onClick={onRefresh}\n          className=\"px-3 py-1 rounded-md border border-slate-600 text-slate-200 bg-slate-800 hover:bg-slate-700 transition-colors\"\n        >\n          Refresh now\n        </button>\n      </div>\n    );\n  };\n\n  return (\n    <div\n      className={`bg-gradient-to-br ${colorThemes[color]} border rounded-lg p-4 space-y-3`}\n    >\n      <div className=\"flex items-center justify-between\">\n        <div className=\"text-sm text-slate-300\">{title}</div>\n        <span className=\"text-2xl\" aria-hidden>\n          {icon}\n        </span>\n      </div>\n\n      <div className=\"flex items-end justify-between\">\n        <span className=\"text-3xl font-bold\">{value}</span>\n      </div>\n\n      {renderControls()}\n    </div>\n  );\n}\n"
}
