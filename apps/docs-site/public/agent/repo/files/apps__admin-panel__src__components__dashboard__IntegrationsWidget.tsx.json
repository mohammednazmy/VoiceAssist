{
  "path": "apps/admin-panel/src/components/dashboard/IntegrationsWidget.tsx",
  "language": "typescript",
  "size": 4054,
  "last_modified": "2025-11-28T02:46:30.097Z",
  "lines": 124,
  "content": "/**\n * IntegrationsWidget - Dashboard widget showing integration health summary\n */\n\nimport { Link } from \"react-router-dom\";\nimport { useIntegrations } from \"../../hooks/useIntegrations\";\n\nexport function IntegrationsWidget() {\n  const { health, loading, error } = useIntegrations({\n    autoRefresh: true,\n    refreshIntervalMs: 60000,\n  });\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"healthy\":\n        return \"text-green-400 border-green-800 bg-green-900/30\";\n      case \"degraded\":\n        return \"text-yellow-400 border-yellow-800 bg-yellow-900/30\";\n      case \"unhealthy\":\n      case \"critical\":\n        return \"text-red-400 border-red-800 bg-red-900/30\";\n      default:\n        return \"text-slate-400 border-slate-700 bg-slate-800/50\";\n    }\n  };\n\n  const formatStatus = (status: string) => {\n    return status.charAt(0).toUpperCase() + status.slice(1);\n  };\n\n  if (loading && !health) {\n    return (\n      <div className=\"bg-slate-900/50 border border-slate-800 rounded-lg p-4 animate-pulse\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"h-4 w-32 bg-slate-800 rounded\" />\n          <div className=\"h-6 w-20 bg-slate-800 rounded-full\" />\n        </div>\n        <div className=\"grid grid-cols-4 gap-3\">\n          {Array.from({ length: 4 }).map((_, idx) => (\n            <div key={idx} className=\"text-center\">\n              <div className=\"h-6 w-8 bg-slate-800 rounded mx-auto\" />\n              <div className=\"h-3 w-16 bg-slate-800 rounded mx-auto mt-1\" />\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-slate-900/50 border border-red-900/50 rounded-lg p-4\">\n        <div className=\"flex items-center justify-between\">\n          <span className=\"text-sm font-medium text-slate-300\">\n            ğŸ”— Integrations\n          </span>\n          <span className=\"text-xs text-red-400\">Error loading</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!health) {\n    return null;\n  }\n\n  return (\n    <div className=\"bg-slate-900/50 border border-slate-800 rounded-lg p-4 hover:border-slate-700 transition-colors\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <span className=\"text-sm font-medium text-slate-300\">\n          ğŸ”— Integrations\n        </span>\n        <span\n          className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${getStatusColor(health.overall_status)}`}\n        >\n          {health.overall_status === \"healthy\" && \"â— \"}\n          {formatStatus(health.overall_status)}\n        </span>\n      </div>\n\n      <div className=\"grid grid-cols-4 gap-3 mb-4\">\n        <div className=\"text-center\">\n          <div className=\"text-lg font-bold text-green-400\">\n            {health.connected}\n          </div>\n          <div className=\"text-[10px] text-slate-500 uppercase tracking-wide\">\n            Connected\n          </div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-lg font-bold text-yellow-400\">\n            {health.degraded}\n          </div>\n          <div className=\"text-[10px] text-slate-500 uppercase tracking-wide\">\n            Degraded\n          </div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-lg font-bold text-red-400\">{health.errors}</div>\n          <div className=\"text-[10px] text-slate-500 uppercase tracking-wide\">\n            Errors\n          </div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-lg font-bold text-slate-400\">\n            {health.not_configured}\n          </div>\n          <div className=\"text-[10px] text-slate-500 uppercase tracking-wide\">\n            Not Set\n          </div>\n        </div>\n      </div>\n\n      <Link\n        to=\"/integrations\"\n        className=\"block w-full text-center text-xs text-blue-400 hover:text-blue-300 transition-colors\"\n      >\n        View all {health.total_integrations} integrations â†’\n      </Link>\n    </div>\n  );\n}\n"
}
