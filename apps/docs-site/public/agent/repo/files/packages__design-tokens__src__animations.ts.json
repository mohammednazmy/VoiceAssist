{
  "path": "packages/design-tokens/src/animations.ts",
  "language": "typescript",
  "size": 12932,
  "last_modified": "2025-11-27T06:52:41.149Z",
  "lines": 496,
  "content": "/**\n * VoiceAssist Design Tokens - Animations\n * Motion design system for consistent, accessible animations\n *\n * Features:\n * - Reduced motion support via prefers-reduced-motion\n * - Medical UI optimized - subtle, non-distracting transitions\n * - Clear feedback for user interactions\n * - Healthcare-specific animations (critical alerts, vital sign indicators)\n *\n * @example\n * ```typescript\n * import { durations, easings, animations } from '@voiceassist/design-tokens';\n *\n * const style = {\n *   transition: `opacity ${durations.normal} ${easings.easeOut}`,\n * };\n * ```\n */\n\n/**\n * Animation Durations\n * Based on human perception research:\n * - < 100ms: Feels instant\n * - 100-300ms: Quick, responsive\n * - 300-500ms: Noticeable, deliberate\n * - > 500ms: Slow, use sparingly\n */\nexport const durations = {\n  /** Effectively instant (for reduced motion fallback) */\n  instant: \"0ms\",\n  /** Very fast - micro-interactions (50ms) */\n  fastest: \"50ms\",\n  /** Fast - button feedback, hover states (100ms) */\n  fast: \"100ms\",\n  /** Normal - most transitions (200ms) */\n  normal: \"200ms\",\n  /** Slow - larger movements, modals entering (300ms) */\n  slow: \"300ms\",\n  /** Slower - complex animations (500ms) */\n  slower: \"500ms\",\n  /** Slowest - page transitions, loading states (700ms) */\n  slowest: \"700ms\",\n} as const;\n\n/**\n * Easing Functions\n * Based on Material Design motion principles\n */\nexport const easings = {\n  /** Linear - constant speed (use sparingly) */\n  linear: \"linear\",\n  /** Ease In - starts slow, ends fast (exits) */\n  easeIn: \"cubic-bezier(0.4, 0, 1, 1)\",\n  /** Ease Out - starts fast, ends slow (entrances) */\n  easeOut: \"cubic-bezier(0, 0, 0.2, 1)\",\n  /** Ease In Out - slow start and end (emphasis) */\n  easeInOut: \"cubic-bezier(0.4, 0, 0.2, 1)\",\n  /** Spring - bouncy effect (playful interactions) */\n  spring: \"cubic-bezier(0.175, 0.885, 0.32, 1.275)\",\n  /** Overshoot - slight bounce at end (confirmations) */\n  overshoot: \"cubic-bezier(0.34, 1.56, 0.64, 1)\",\n  /** Anticipate - pull back before moving (important actions) */\n  anticipate: \"cubic-bezier(0.68, -0.55, 0.265, 1.55)\",\n} as const;\n\n/**\n * Animation Keyframes\n * Reusable keyframe definitions for common animations\n */\nexport const keyframes = {\n  /** Fade in from transparent */\n  fadeIn: {\n    from: { opacity: 0 },\n    to: { opacity: 1 },\n  },\n\n  /** Fade out to transparent */\n  fadeOut: {\n    from: { opacity: 1 },\n    to: { opacity: 0 },\n  },\n\n  /** Slide up with fade */\n  slideUp: {\n    from: { transform: \"translateY(8px)\", opacity: 0 },\n    to: { transform: \"translateY(0)\", opacity: 1 },\n  },\n\n  /** Slide down with fade */\n  slideDown: {\n    from: { transform: \"translateY(-8px)\", opacity: 0 },\n    to: { transform: \"translateY(0)\", opacity: 1 },\n  },\n\n  /** Slide in from right */\n  slideInRight: {\n    from: { transform: \"translateX(100%)\", opacity: 0 },\n    to: { transform: \"translateX(0)\", opacity: 1 },\n  },\n\n  /** Slide in from left */\n  slideInLeft: {\n    from: { transform: \"translateX(-100%)\", opacity: 0 },\n    to: { transform: \"translateX(0)\", opacity: 1 },\n  },\n\n  /** Scale up from center */\n  scaleIn: {\n    from: { transform: \"scale(0.95)\", opacity: 0 },\n    to: { transform: \"scale(1)\", opacity: 1 },\n  },\n\n  /** Scale down to center */\n  scaleOut: {\n    from: { transform: \"scale(1)\", opacity: 1 },\n    to: { transform: \"scale(0.95)\", opacity: 0 },\n  },\n\n  /** Subtle pulse for attention */\n  pulse: {\n    \"0%, 100%\": { opacity: 1 },\n    \"50%\": { opacity: 0.7 },\n  },\n\n  /** Spin for loading indicators */\n  spin: {\n    from: { transform: \"rotate(0deg)\" },\n    to: { transform: \"rotate(360deg)\" },\n  },\n\n  /** Bounce for emphasis */\n  bounce: {\n    \"0%, 100%\": { transform: \"translateY(0)\" },\n    \"50%\": { transform: \"translateY(-8px)\" },\n  },\n\n  /** Shake for errors */\n  shake: {\n    \"0%, 100%\": { transform: \"translateX(0)\" },\n    \"10%, 30%, 50%, 70%, 90%\": { transform: \"translateX(-4px)\" },\n    \"20%, 40%, 60%, 80%\": { transform: \"translateX(4px)\" },\n  },\n} as const;\n\n/**\n * Medical-Specific Keyframes\n * Designed for healthcare UI patterns\n */\nexport const medicalKeyframes = {\n  /** Critical alert pulse - draws attention to critical values */\n  criticalPulse: {\n    \"0%, 100%\": {\n      boxShadow: \"0 0 0 0 rgba(239, 68, 68, 0.4)\",\n      borderColor: \"var(--color-error-500, #EF4444)\",\n    },\n    \"50%\": {\n      boxShadow: \"0 0 0 8px rgba(239, 68, 68, 0)\",\n      borderColor: \"var(--color-error-600, #DC2626)\",\n    },\n  },\n\n  /** Warning pulse - less urgent than critical */\n  warningPulse: {\n    \"0%, 100%\": {\n      boxShadow: \"0 0 0 0 rgba(245, 158, 11, 0.3)\",\n      borderColor: \"var(--color-warning-500, #F59E0B)\",\n    },\n    \"50%\": {\n      boxShadow: \"0 0 0 6px rgba(245, 158, 11, 0)\",\n      borderColor: \"var(--color-warning-600, #D97706)\",\n    },\n  },\n\n  /** Heartbeat - for vital sign indicators */\n  heartbeat: {\n    \"0%, 40%, 100%\": { transform: \"scale(1)\" },\n    \"20%\": { transform: \"scale(1.15)\" },\n    \"30%\": { transform: \"scale(0.95)\" },\n  },\n\n  /** Breathing indicator - for ongoing processes */\n  breathe: {\n    \"0%, 100%\": { transform: \"scale(1)\", opacity: 1 },\n    \"50%\": { transform: \"scale(1.05)\", opacity: 0.8 },\n  },\n\n  /** Processing dots - for loading states */\n  processingDot: {\n    \"0%, 80%, 100%\": { transform: \"scale(0.6)\", opacity: 0.5 },\n    \"40%\": { transform: \"scale(1)\", opacity: 1 },\n  },\n\n  /** Recording pulse - for voice recording indicator */\n  recordingPulse: {\n    \"0%, 100%\": {\n      boxShadow: \"0 0 0 0 rgba(239, 68, 68, 0.7)\",\n      backgroundColor: \"var(--color-error-500, #EF4444)\",\n    },\n    \"70%\": {\n      boxShadow: \"0 0 0 10px rgba(239, 68, 68, 0)\",\n      backgroundColor: \"var(--color-error-600, #DC2626)\",\n    },\n  },\n} as const;\n\n/**\n * Preset Animations\n * Ready-to-use animation configurations\n */\nexport const animations = {\n  /** Fade in - general entrance */\n  fadeIn: {\n    keyframes: keyframes.fadeIn,\n    duration: durations.normal,\n    easing: easings.easeOut,\n    fillMode: \"forwards\" as const,\n  },\n\n  /** Fade out - general exit */\n  fadeOut: {\n    keyframes: keyframes.fadeOut,\n    duration: durations.normal,\n    easing: easings.easeIn,\n    fillMode: \"forwards\" as const,\n  },\n\n  /** Slide up - toasts, modals entering from bottom */\n  slideUp: {\n    keyframes: keyframes.slideUp,\n    duration: durations.normal,\n    easing: easings.easeOut,\n    fillMode: \"forwards\" as const,\n  },\n\n  /** Slide down - dropdowns, menus entering */\n  slideDown: {\n    keyframes: keyframes.slideDown,\n    duration: durations.normal,\n    easing: easings.easeOut,\n    fillMode: \"forwards\" as const,\n  },\n\n  /** Slide in right - side panels, notifications */\n  slideInRight: {\n    keyframes: keyframes.slideInRight,\n    duration: durations.slow,\n    easing: easings.easeOut,\n    fillMode: \"forwards\" as const,\n  },\n\n  /** Slide in left - navigation, drawers */\n  slideInLeft: {\n    keyframes: keyframes.slideInLeft,\n    duration: durations.slow,\n    easing: easings.easeOut,\n    fillMode: \"forwards\" as const,\n  },\n\n  /** Scale in - modals, dialogs */\n  scaleIn: {\n    keyframes: keyframes.scaleIn,\n    duration: durations.normal,\n    easing: easings.easeOut,\n    fillMode: \"forwards\" as const,\n  },\n\n  /** Scale out - closing modals */\n  scaleOut: {\n    keyframes: keyframes.scaleOut,\n    duration: durations.fast,\n    easing: easings.easeIn,\n    fillMode: \"forwards\" as const,\n  },\n\n  /** Pulse - drawing attention */\n  pulse: {\n    keyframes: keyframes.pulse,\n    duration: durations.slower,\n    easing: easings.easeInOut,\n    iterationCount: \"infinite\" as const,\n  },\n\n  /** Spin - loading spinners */\n  spin: {\n    keyframes: keyframes.spin,\n    duration: \"1s\",\n    easing: easings.linear,\n    iterationCount: \"infinite\" as const,\n  },\n\n  /** Bounce - success, celebrations */\n  bounce: {\n    keyframes: keyframes.bounce,\n    duration: durations.slower,\n    easing: easings.easeOut,\n    iterationCount: 2,\n  },\n\n  /** Shake - error feedback */\n  shake: {\n    keyframes: keyframes.shake,\n    duration: durations.slow,\n    easing: easings.easeInOut,\n    fillMode: \"forwards\" as const,\n  },\n\n  /** Critical pulse - critical vital signs */\n  criticalPulse: {\n    keyframes: medicalKeyframes.criticalPulse,\n    duration: \"1.5s\",\n    easing: easings.easeInOut,\n    iterationCount: \"infinite\" as const,\n  },\n\n  /** Warning pulse - warning states */\n  warningPulse: {\n    keyframes: medicalKeyframes.warningPulse,\n    duration: \"2s\",\n    easing: easings.easeInOut,\n    iterationCount: \"infinite\" as const,\n  },\n\n  /** Heartbeat - vital sign indicators */\n  heartbeat: {\n    keyframes: medicalKeyframes.heartbeat,\n    duration: \"1s\",\n    easing: easings.easeInOut,\n    iterationCount: \"infinite\" as const,\n  },\n\n  /** Breathe - subtle ongoing process */\n  breathe: {\n    keyframes: medicalKeyframes.breathe,\n    duration: \"3s\",\n    easing: easings.easeInOut,\n    iterationCount: \"infinite\" as const,\n  },\n\n  /** Recording pulse - voice recording */\n  recordingPulse: {\n    keyframes: medicalKeyframes.recordingPulse,\n    duration: \"1.2s\",\n    easing: easings.easeInOut,\n    iterationCount: \"infinite\" as const,\n  },\n} as const;\n\n/**\n * Reduced Motion Alternatives\n * Safe animations for users who prefer reduced motion\n */\nexport const reducedMotionAnimations = {\n  fadeIn: {\n    keyframes: keyframes.fadeIn,\n    duration: durations.instant,\n    easing: easings.linear,\n  },\n  fadeOut: {\n    keyframes: keyframes.fadeOut,\n    duration: durations.instant,\n    easing: easings.linear,\n  },\n  slideUp: {\n    keyframes: keyframes.fadeIn,\n    duration: durations.instant,\n    easing: easings.linear,\n  },\n  slideDown: {\n    keyframes: keyframes.fadeIn,\n    duration: durations.instant,\n    easing: easings.linear,\n  },\n  slideInRight: {\n    keyframes: keyframes.fadeIn,\n    duration: durations.instant,\n    easing: easings.linear,\n  },\n  slideInLeft: {\n    keyframes: keyframes.fadeIn,\n    duration: durations.instant,\n    easing: easings.linear,\n  },\n  scaleIn: {\n    keyframes: keyframes.fadeIn,\n    duration: durations.instant,\n    easing: easings.linear,\n  },\n  scaleOut: {\n    keyframes: keyframes.fadeOut,\n    duration: durations.instant,\n    easing: easings.linear,\n  },\n  pulse: null, // Disable continuous animations\n  spin: null,\n  bounce: null,\n  shake: null,\n  criticalPulse: null,\n  warningPulse: null,\n  heartbeat: null,\n  breathe: null,\n  recordingPulse: null,\n} as const;\n\n/**\n * CSS Transition Presets\n * Common transition strings for inline styles\n */\nexport const transitions = {\n  /** No transition */\n  none: \"none\",\n  /** Default - all properties */\n  all: `all ${durations.normal} ${easings.easeInOut}`,\n  /** Fast - quick feedback */\n  fast: `all ${durations.fast} ${easings.easeOut}`,\n  /** Slow - deliberate changes */\n  slow: `all ${durations.slow} ${easings.easeInOut}`,\n  /** Colors only */\n  colors: `color ${durations.normal} ${easings.easeOut}, background-color ${durations.normal} ${easings.easeOut}, border-color ${durations.normal} ${easings.easeOut}`,\n  /** Opacity only */\n  opacity: `opacity ${durations.normal} ${easings.easeOut}`,\n  /** Transform only */\n  transform: `transform ${durations.normal} ${easings.easeOut}`,\n  /** Shadow only */\n  shadow: `box-shadow ${durations.normal} ${easings.easeOut}`,\n} as const;\n\n/**\n * Type exports\n */\nexport type Duration = keyof typeof durations;\nexport type Easing = keyof typeof easings;\nexport type Keyframe = keyof typeof keyframes;\nexport type MedicalKeyframe = keyof typeof medicalKeyframes;\nexport type Animation = keyof typeof animations;\nexport type Transition = keyof typeof transitions;\n\n/**\n * Animation configuration type\n */\nexport interface AnimationConfig {\n  keyframes: Record<string, Record<string, string | number>>;\n  duration: string;\n  easing: string;\n  fillMode?: \"forwards\" | \"backwards\" | \"both\" | \"none\";\n  iterationCount?: number | \"infinite\";\n  delay?: string;\n}\n\n/**\n * Helper to generate CSS animation string\n */\nexport function createAnimationString(\n  name: string,\n  config: Omit<AnimationConfig, \"keyframes\">,\n): string {\n  const parts = [name, config.duration, config.easing];\n\n  if (config.delay) {\n    parts.push(config.delay);\n  }\n\n  if (config.iterationCount) {\n    parts.push(String(config.iterationCount));\n  }\n\n  if (config.fillMode) {\n    parts.push(config.fillMode);\n  }\n\n  return parts.join(\" \");\n}\n\n/**\n * Helper to generate keyframes CSS\n */\nexport function createKeyframesCSS(\n  name: string,\n  frames: Record<string, Record<string, string | number>>,\n): string {\n  const frameStrings = Object.entries(frames)\n    .map(([key, styles]) => {\n      const styleString = Object.entries(styles)\n        .map(([prop, value]) => {\n          // Convert camelCase to kebab-case\n          const kebabProp = prop.replace(/([A-Z])/g, \"-$1\").toLowerCase();\n          return `${kebabProp}: ${value};`;\n        })\n        .join(\" \");\n      return `${key} { ${styleString} }`;\n    })\n    .join(\" \");\n\n  return `@keyframes ${name} { ${frameStrings} }`;\n}\n"
}
