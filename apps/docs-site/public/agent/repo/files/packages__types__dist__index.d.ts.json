{
  "path": "packages/types/dist/index.d.ts",
  "language": "typescript",
  "size": 35919,
  "last_modified": "2025-12-04T10:50:16.749Z",
  "lines": 1269,
  "content": "/**\n * VoiceAssist Shared Types\n * Common TypeScript types used across all applications\n */\ninterface User {\n    id: string;\n    email: string;\n    name: string;\n    role: UserRole;\n    createdAt: string;\n    updatedAt: string;\n}\ntype UserRole = \"admin\" | \"physician\" | \"staff\" | \"patient\";\ninterface AuthTokens {\n    accessToken: string;\n    refreshToken: string;\n    expiresIn: number;\n}\ninterface LoginRequest {\n    email: string;\n    password: string;\n}\ninterface TokenResponse {\n    access_token: string;\n    refresh_token: string;\n    token_type: string;\n    expires_in: number;\n}\ninterface LoginResponse {\n    user: User;\n    tokens: AuthTokens;\n}\ninterface Message {\n    id: string;\n    conversationId?: string;\n    role: \"user\" | \"assistant\" | \"system\";\n    content: string;\n    delta?: string;\n    citations?: Citation[];\n    attachments?: string[];\n    timestamp: number;\n    metadata?: MessageMetadata;\n    parentId?: string;\n    branchId?: string;\n}\n/**\n * Citation interface - matches backend CitationSchema\n * Supports both structured (new) and legacy fields for backward compatibility\n */\ninterface Citation {\n    id: string;\n    source?: \"kb\" | \"url\" | \"pubmed\" | \"doi\";\n    reference?: string;\n    sourceId?: string;\n    sourceType?: string;\n    title?: string;\n    subtitle?: string;\n    location?: string;\n    url?: string;\n    doi?: string;\n    pubmedId?: string;\n    page?: number;\n    authors?: string[];\n    publicationYear?: number;\n    journal?: string;\n    snippet?: string;\n    relevanceScore?: number;\n    metadata?: Record<string, any>;\n}\ninterface MessageMetadata {\n    sources?: Source[];\n    citations?: Citation[];\n    toolCalls?: ToolCall[];\n    errorInfo?: ErrorInfo;\n}\ninterface Source {\n    documentId: string;\n    title: string;\n    pageNumber?: number;\n    confidence: number;\n    excerpt: string;\n}\ninterface ToolCall {\n    id: string;\n    name: string;\n    arguments: Record<string, unknown>;\n    result?: unknown;\n}\ninterface ErrorInfo {\n    code: string;\n    message: string;\n    details?: unknown;\n}\ninterface Conversation {\n    id: string;\n    userId: string;\n    title: string;\n    createdAt: string;\n    updatedAt: string;\n    messageCount: number;\n    archived?: boolean;\n    lastMessagePreview?: string;\n    folderId?: string | null;\n}\ninterface UpdateConversationRequest {\n    title?: string;\n    archived?: boolean;\n    folderId?: string | null;\n}\ninterface Folder {\n    id: string;\n    userId: string;\n    name: string;\n    color?: string | null;\n    icon?: string | null;\n    parentFolderId?: string | null;\n    createdAt: string;\n    children?: Folder[];\n}\ninterface CreateFolderRequest {\n    name: string;\n    color?: string | null;\n    icon?: string | null;\n    parentFolderId?: string | null;\n}\ninterface UpdateFolderRequest {\n    name?: string;\n    color?: string | null;\n    icon?: string | null;\n    parentFolderId?: string | null;\n}\ninterface ShareRequest {\n    expiresInHours?: number;\n    password?: string | null;\n    allowAnonymous?: boolean;\n}\ninterface ShareResponse {\n    shareId: string;\n    shareUrl: string;\n    expiresAt: string;\n    passwordProtected: boolean;\n}\ninterface ShareLink {\n    shareToken: string;\n    shareUrl: string;\n    createdAt: string;\n    expiresAt: string;\n    passwordProtected: boolean;\n    accessCount: number;\n}\ninterface ConversationTemplate {\n    id: string;\n    name: string;\n    description?: string;\n    category?: string;\n    icon?: string;\n    color?: string;\n    messages: TemplateMessage[];\n    clinicalContext?: Record<string, any>;\n    createdAt: string;\n    updatedAt: string;\n    usageCount: number;\n}\ninterface TemplateMessage {\n    role: \"user\" | \"assistant\" | \"system\";\n    content: string;\n}\ninterface CreateTemplateRequest {\n    name: string;\n    description?: string;\n    category?: string;\n    icon?: string;\n    color?: string;\n    fromConversationId?: string;\n}\ninterface UpdateTemplateRequest {\n    name?: string;\n    description?: string;\n    category?: string;\n    icon?: string;\n    color?: string;\n}\ninterface Branch {\n    branchId: string;\n    sessionId: string;\n    parentMessageId: string | null;\n    messageCount: number;\n    createdAt: string;\n    lastActivity: string;\n}\ninterface CreateBranchRequest {\n    parentMessageId: string;\n    initialMessage?: string;\n}\ninterface VoiceConfig {\n    voiceId: string;\n    speed: number;\n    pitch: number;\n    volume: number;\n}\ninterface TranscriptionResult {\n    text: string;\n    confidence: number;\n    language: string;\n    timestamp: string;\n}\n/**\n * Phase 7: Multilingual settings for voice sessions\n */\ninterface MultilingualSettings {\n    /** Selected accent profile ID */\n    accentProfileId: string | null;\n    /** Enable automatic language detection from speech */\n    autoLanguageDetection: boolean;\n    /** Confidence threshold (0-1) for automatic language switching */\n    languageSwitchConfidence: number;\n}\n/**\n * Phase 8: Personalization/Calibration settings\n */\ninterface CalibrationSettings {\n    /** Whether user has completed voice calibration */\n    vadCalibrated: boolean;\n    /** Timestamp of last calibration */\n    lastCalibrationDate: number | null;\n    /** Personalized VAD threshold from calibration (0-1) */\n    personalizedVadThreshold: number | null;\n    /** Enable adaptive learning from speech patterns */\n    enableBehaviorLearning: boolean;\n    /** VAD sensitivity (0-1 scale, higher = more sensitive) */\n    vadSensitivity: number;\n}\n/**\n * Phase 9: Offline mode settings\n */\ninterface OfflineModeSettings {\n    /** Enable offline VAD fallback when network is unavailable */\n    enableOfflineFallback: boolean;\n    /** Prefer local VAD processing even when online */\n    preferOfflineVAD: boolean;\n    /** Cache common TTS phrases for offline playback */\n    ttsCacheEnabled: boolean;\n}\n/**\n * Phase 10: Conversation management settings\n */\ninterface ConversationIntelligenceSettings {\n    /** Track user sentiment during conversation */\n    enableSentimentTracking: boolean;\n    /** Enable discourse/topic tracking */\n    enableDiscourseAnalysis: boolean;\n    /** Get AI response behavior recommendations */\n    enableResponseRecommendations: boolean;\n    /** Display suggested follow-up questions */\n    showSuggestedFollowUps: boolean;\n}\n/**\n * Voice privacy settings\n */\ninterface VoicePrivacySettings {\n    /** Store transcript history locally */\n    storeTranscriptHistory: boolean;\n    /** Share anonymous usage data for improvement */\n    shareAnonymousAnalytics: boolean;\n}\n/**\n * Combined Phase 7-10 advanced voice settings\n */\ninterface AdvancedVoiceSettings {\n    multilingual: MultilingualSettings;\n    calibration: CalibrationSettings;\n    offline: OfflineModeSettings;\n    conversationIntelligence: ConversationIntelligenceSettings;\n    privacy: VoicePrivacySettings;\n}\n/**\n * Voice session configuration for Thinker/Talker pipeline\n * Matches backend TTSessionConfig\n */\ninterface TTSessionConfig {\n    userId: string;\n    sessionId: string;\n    conversationId?: string;\n    voiceId: string;\n    ttsModel: string;\n    language: string;\n    sttSampleRate: number;\n    sttEndpointingMs: number;\n    sttUtteranceEndMs: number;\n    bargeInEnabled: boolean;\n    connectionTimeoutSec: number;\n    idleTimeoutSec: number;\n    advancedSettings?: AdvancedVoiceSettings;\n}\n/**\n * Voice session metrics for Thinker/Talker pipeline\n */\ninterface TTVoiceMetrics {\n    /** Time from connect() call to ready status (ms) */\n    connectionTimeMs: number | null;\n    /** Time from speech end to first transcript (ms) */\n    sttLatencyMs: number | null;\n    /** Time from transcript to first LLM token (ms) */\n    llmFirstTokenMs: number | null;\n    /** Time from first LLM token to first TTS audio (ms) */\n    ttsFirstAudioMs: number | null;\n    /** Total time from speech end to first audio (ms) */\n    totalLatencyMs: number | null;\n    /** Session duration (ms) */\n    sessionDurationMs: number | null;\n    /** Count of user utterances */\n    userUtteranceCount: number;\n    /** Count of AI responses */\n    aiResponseCount: number;\n    /** Count of tool calls */\n    toolCallCount: number;\n    /** Count of barge-ins */\n    bargeInCount: number;\n    /** Reconnection count */\n    reconnectCount: number;\n    /** Session start timestamp */\n    sessionStartedAt: number | null;\n}\n/**\n * Sentiment analysis result\n */\ntype SentimentType = \"positive\" | \"negative\" | \"neutral\" | \"frustrated\" | \"confused\" | \"engaged\";\ninterface SentimentResult {\n    sentiment: SentimentType;\n    confidence: number;\n    valence: number;\n    arousal: number;\n}\n/**\n * Discourse/conversation phase\n */\ntype DiscoursePhase = \"opening\" | \"information_gathering\" | \"deep_discussion\" | \"clarification\" | \"action_oriented\" | \"closing\";\n/**\n * Discourse state for conversation tracking\n */\ninterface DiscourseState {\n    topic: string | null;\n    phase: DiscoursePhase;\n    coherence: number;\n    topicShiftCount: number;\n}\n/**\n * Response recommendations for AI behavior adjustment\n */\ninterface ResponseRecommendations {\n    speakSlower: boolean;\n    useSimpleLanguage: boolean;\n    offerClarification: boolean;\n    pauseForQuestions: boolean;\n    suggestedTone: \"neutral\" | \"empathetic\" | \"professional\" | \"encouraging\";\n    urgency: \"low\" | \"normal\" | \"high\";\n}\n/**\n * Calibration progress during voice calibration\n */\ninterface CalibrationProgress {\n    state: \"idle\" | \"preparing\" | \"measuring_noise\" | \"waiting_speech\" | \"measuring_voice\" | \"analyzing\" | \"complete\" | \"error\";\n    progress: number;\n    message: string;\n    instruction?: string;\n}\n/**\n * Calibration result after voice calibration completes\n */\ninterface CalibrationResult {\n    id: string;\n    timestamp: number;\n    backgroundNoiseLevel: number;\n    voiceEnergyLevel: number;\n    recommendedVadThreshold: number;\n    recommendedSilenceThreshold: number;\n    pitchRange: {\n        min: number;\n        max: number;\n        mean: number;\n    };\n    speakingRate: number;\n    qualityScore: number;\n    duration: number;\n    environment: \"quiet\" | \"moderate\" | \"noisy\" | \"outdoor\";\n}\ninterface Document {\n    id: string;\n    title: string;\n    category: string;\n    author?: string;\n    uploadedAt: string;\n    uploadedBy: string;\n    fileSize: number;\n    pageCount?: number;\n    status: DocumentStatus;\n}\ntype DocumentStatus = \"pending\" | \"processing\" | \"indexed\" | \"failed\";\ninterface KnowledgeBaseEntry {\n    id: string;\n    documentId: string;\n    content: string;\n    embedding?: number[];\n    metadata: Record<string, unknown>;\n}\ninterface SearchResult {\n    id: string;\n    documentId: string;\n    title: string;\n    excerpt: string;\n    score: number;\n    pageNumber?: number;\n}\ninterface ApiResponse<T = unknown> {\n    success: boolean;\n    data?: T;\n    error?: ApiError;\n    meta?: ApiMeta;\n}\ninterface ApiError {\n    code: string;\n    message: string;\n    details?: unknown;\n    timestamp: string;\n}\ninterface ApiMeta {\n    page?: number;\n    pageSize?: number;\n    totalCount?: number;\n    totalPages?: number;\n}\ninterface PaginatedResponse<T> {\n    items: T[];\n    page: number;\n    pageSize: number;\n    totalCount: number;\n    totalPages: number;\n}\ninterface WebSocketMessage<T = unknown> {\n    type: string;\n    payload: T;\n    timestamp: string;\n}\ninterface ChatStreamChunk {\n    conversationId: string;\n    messageId: string;\n    delta: string;\n    isComplete: boolean;\n}\ntype WebSocketEventType = \"delta\" | \"chunk\" | \"message.done\" | \"user_message.created\" | \"history\" | \"connected\" | \"error\" | \"ping\" | \"pong\";\ninterface WebSocketEvent {\n    type: WebSocketEventType;\n    eventId?: string;\n    messageId?: string;\n    clientMessageId?: string;\n    content?: string;\n    delta?: string;\n    message?: Message;\n    messages?: Message[];\n    metadata?: any;\n    error?: WebSocketError;\n}\ninterface WebSocketError {\n    code: WebSocketErrorCode;\n    message: string;\n    details?: unknown;\n}\ntype WebSocketErrorCode = \"AUTH_FAILED\" | \"RATE_LIMITED\" | \"QUOTA_EXCEEDED\" | \"INVALID_EVENT\" | \"BACKEND_ERROR\" | \"CONNECTION_DROPPED\";\ntype ConnectionStatus = \"connecting\" | \"connected\" | \"reconnecting\" | \"disconnected\" | \"failed\";\ninterface Attachment {\n    id: string;\n    messageId: string;\n    fileName: string;\n    fileType: string;\n    fileSize: number;\n    fileUrl: string;\n    mimeType?: string;\n    metadata?: Record<string, any>;\n    uploadedAt: string;\n    createdAt: string;\n}\ninterface AttachmentUploadResponse {\n    id: string;\n    messageId: string;\n    fileName: string;\n    fileType: string;\n    fileSize: number;\n    fileUrl: string;\n    mimeType?: string;\n    uploadedAt: string;\n    createdAt: string;\n}\ninterface UploadProgress {\n    fileName: string;\n    progress: number;\n    status: \"uploading\" | \"complete\" | \"error\";\n    error?: string;\n}\ninterface Vitals {\n    temperature?: number;\n    heartRate?: number;\n    bloodPressure?: string;\n    respiratoryRate?: number;\n    spo2?: number;\n}\ninterface ClinicalContext {\n    id: string;\n    userId: string;\n    sessionId?: string;\n    age?: number;\n    gender?: string;\n    weightKg?: number;\n    heightCm?: number;\n    chiefComplaint?: string;\n    problems: string[];\n    medications: string[];\n    allergies: string[];\n    vitals: Vitals;\n    lastUpdated: string;\n    createdAt: string;\n}\ninterface ClinicalContextCreate {\n    sessionId?: string;\n    age?: number;\n    gender?: string;\n    weightKg?: number;\n    heightCm?: number;\n    chiefComplaint?: string;\n    problems?: string[];\n    medications?: string[];\n    allergies?: string[];\n    vitals?: Vitals;\n}\ninterface ClinicalContextUpdate {\n    age?: number;\n    gender?: string;\n    weightKg?: number;\n    heightCm?: number;\n    chiefComplaint?: string;\n    problems?: string[];\n    medications?: string[];\n    allergies?: string[];\n    vitals?: Vitals;\n}\ntype ClinicalPresetCategory = \"builtin\" | \"custom\";\ninterface PresetVitals {\n    /** Temperature in Celsius */\n    temperature?: number;\n    /** Heart rate in BPM */\n    heartRate?: number;\n    /** Blood pressure as structured object with systolic/diastolic */\n    bloodPressure?: {\n        systolic: number;\n        diastolic: number;\n    };\n    /** Respiratory rate in breaths per minute */\n    respiratoryRate?: number;\n    /** Oxygen saturation percentage */\n    oxygenSaturation?: number;\n    /** Blood glucose in mg/dL */\n    bloodGlucose?: number;\n    /** Weight in kg */\n    weight?: number;\n    /** Pain scale 0-10 */\n    painScale?: number;\n}\ninterface PresetContext {\n    /** Session ID to link preset to */\n    sessionId?: string;\n    /** Patient age */\n    age?: number;\n    /** Patient gender */\n    gender?: string;\n    /** Weight in kg */\n    weightKg?: number;\n    /** Height in cm */\n    heightCm?: number;\n    /** Chief complaint */\n    chiefComplaint?: string;\n    /** List of problems/diagnoses */\n    problems?: string[];\n    /** List of medications */\n    medications?: string[];\n    /** List of allergies */\n    allergies?: string[];\n    /** Vitals with structured blood pressure */\n    vitals?: PresetVitals;\n}\ninterface ClinicalContextPreset {\n    /** Unique identifier */\n    id: string;\n    /** Display name */\n    name: string;\n    /** Short description */\n    description: string;\n    /** Whether this is a built-in or custom preset */\n    category: ClinicalPresetCategory;\n    /** Icon identifier for UI */\n    icon?: string;\n    /** The clinical context data for this preset */\n    context: PresetContext;\n    /** User who created this preset (for custom presets) */\n    userId?: string;\n    /** ISO timestamp when created */\n    createdAt?: string;\n    /** ISO timestamp when last updated */\n    updatedAt?: string;\n}\ninterface ClinicalPresetCreate {\n    name: string;\n    description: string;\n    icon?: string;\n    context: PresetContext;\n}\ninterface ClinicalPresetUpdate {\n    name?: string;\n    description?: string;\n    icon?: string;\n    context?: PresetContext;\n}\ninterface UserSettings {\n    theme: \"light\" | \"dark\" | \"auto\";\n    language: string;\n    voiceConfig: VoiceConfig;\n    notifications: NotificationSettings;\n}\ninterface NotificationSettings {\n    email: boolean;\n    push: boolean;\n    inApp: boolean;\n}\ninterface SystemMetrics {\n    activeUsers: number;\n    totalConversations: number;\n    totalMessages: number;\n    documentsIndexed: number;\n    avgResponseTime: number;\n    uptime: number;\n}\ninterface AuditLogEntry {\n    id: string;\n    userId: string;\n    action: string;\n    resource: string;\n    timestamp: string;\n    ipAddress: string;\n    userAgent: string;\n    metadata?: Record<string, unknown>;\n}\ntype IntegrationStatus = \"connected\" | \"disconnected\" | \"error\" | \"degraded\" | \"not_configured\";\ntype IntegrationType = \"database\" | \"cache\" | \"vector_db\" | \"storage\" | \"llm\" | \"tts\" | \"stt\" | \"realtime\" | \"oauth\" | \"monitoring\" | \"external_api\";\ninterface IntegrationSummary {\n    id: string;\n    name: string;\n    type: IntegrationType;\n    status: IntegrationStatus;\n    provider: string;\n    lastChecked?: string;\n    errorMessage?: string;\n}\ninterface IntegrationConfig {\n    host?: string;\n    port?: number;\n    enabled?: boolean;\n    timeoutSec?: number;\n    model?: string;\n    endpoint?: string;\n    extra?: Record<string, unknown>;\n}\ninterface IntegrationDetail {\n    id: string;\n    name: string;\n    type: IntegrationType;\n    status: IntegrationStatus;\n    provider: string;\n    description: string;\n    config: IntegrationConfig;\n    hasApiKey: boolean;\n    lastChecked?: string;\n    errorMessage?: string;\n    metrics?: IntegrationMetrics;\n}\ninterface IntegrationConfigUpdate {\n    enabled?: boolean;\n    timeoutSec?: number;\n    model?: string;\n    endpoint?: string;\n    extra?: Record<string, unknown>;\n}\ninterface IntegrationTestResult {\n    success: boolean;\n    latencyMs: number;\n    message: string;\n    details?: Record<string, unknown>;\n}\ninterface IntegrationMetrics {\n    integrationId: string;\n    totalRequests: number;\n    successfulRequests: number;\n    failedRequests: number;\n    avgLatencyMs: number;\n    p99LatencyMs: number;\n    lastError?: string;\n    lastErrorTime?: string;\n}\ninterface IntegrationsHealthSummary {\n    overallStatus: \"healthy\" | \"degraded\" | \"unhealthy\" | \"critical\";\n    totalIntegrations: number;\n    connected: number;\n    degraded: number;\n    errors: number;\n    notConfigured: number;\n    checkedAt: string;\n}\ntype PHIRuleStatus = \"enabled\" | \"disabled\";\ntype PHIRuleType = \"ssn\" | \"phone\" | \"email\" | \"mrn\" | \"account\" | \"ip_address\" | \"url\" | \"dob\" | \"name\" | \"address\" | \"credit_card\";\ntype PHIRoutingMode = \"local_only\" | \"cloud_allowed\" | \"hybrid\";\ninterface PHIRule {\n    id: string;\n    name: string;\n    description: string;\n    phiType: PHIRuleType;\n    status: PHIRuleStatus;\n    pattern?: string;\n    isBuiltin: boolean;\n    detectionCount: number;\n    lastDetection?: string;\n}\ninterface PHIRuleUpdate {\n    status: PHIRuleStatus;\n}\ninterface PHITestRequest {\n    text: string;\n    includeRedacted?: boolean;\n}\ninterface PHITestResult {\n    containsPhi: boolean;\n    phiTypes: string[];\n    confidence: number;\n    details: Record<string, unknown>;\n    redactedText?: string;\n}\ninterface PHIRedactResult {\n    originalLength: number;\n    redactedLength: number;\n    redactionCount: number;\n    redactedText: string;\n}\ninterface PHIRoutingConfig {\n    mode: PHIRoutingMode;\n    confidenceThreshold: number;\n    localLlmEnabled: boolean;\n    localLlmUrl?: string;\n    redactBeforeCloud: boolean;\n    auditAllPhi: boolean;\n}\ninterface PHIRoutingUpdate {\n    mode?: PHIRoutingMode;\n    confidenceThreshold?: number;\n    redactBeforeCloud?: boolean;\n    auditAllPhi?: boolean;\n}\ninterface PHIStats {\n    totalDetections: number;\n    detectionsToday: number;\n    detectionsThisWeek: number;\n    byType: Record<string, number>;\n    byDay: Array<{\n        date: string;\n        count: number;\n        byType: Record<string, number>;\n    }>;\n    routingStats: {\n        routedLocal: number;\n        redactedCloud: number;\n        blocked: number;\n    };\n}\ninterface PHIEvent {\n    id: string;\n    timestamp: string;\n    phiTypes: string[];\n    confidence: number;\n    actionTaken: string;\n    userId?: string;\n    sessionId?: string;\n}\ninterface PHIHealthStatus {\n    overall: \"healthy\" | \"degraded\" | \"unhealthy\";\n    components: {\n        detector: string;\n        redisConfig: string;\n        localLlm: string;\n        auditLogging: string;\n    };\n    routingMode: PHIRoutingMode;\n    timestamp: string;\n}\ninterface PHIRulesResponse {\n    rules: PHIRule[];\n    total: number;\n    enabled: number;\n}\ninterface PHIEventsResponse {\n    events: PHIEvent[];\n    total: number;\n    limit: number;\n    offset: number;\n}\ntype ModelProvider = \"openai\" | \"anthropic\" | \"local\";\ntype ModelType = \"chat\" | \"embedding\" | \"tts\" | \"stt\";\ninterface ModelInfo {\n    id: string;\n    name: string;\n    provider: ModelProvider;\n    type: ModelType;\n    enabled: boolean;\n    isPrimary: boolean;\n    supportsPhi: boolean;\n    contextWindow: number;\n    costPer1kInput: number;\n    costPer1kOutput: number;\n}\ninterface ModelUsageMetrics {\n    totalRequests24h: number;\n    totalTokensInput24h: number;\n    totalTokensOutput24h: number;\n    estimatedCost24h: number;\n    avgLatencyMs: number;\n    p95LatencyMs: number;\n    errorRate: number;\n    cloudRequests: number;\n    localRequests: number;\n    cloudPercentage: number;\n    modelBreakdown: ModelBreakdown[];\n    periodDays: number;\n    timestamp: string;\n}\ninterface ModelBreakdown {\n    modelId: string;\n    modelName: string;\n    provider: ModelProvider;\n    requests: number;\n    tokensInput: number;\n    tokensOutput: number;\n    estimatedCost: number;\n    avgLatencyMs: number;\n}\ninterface SearchStats {\n    totalSearches24h: number;\n    avgLatencyMs: number;\n    p95LatencyMs: number;\n    cacheHitRate: number;\n    topQueries: Array<{\n        query: string;\n        count: number;\n    }>;\n    searchTypes: {\n        semantic: number;\n        keyword: number;\n        hybrid: number;\n    };\n    noResultsRate: number;\n    periodDays: number;\n    timestamp: string;\n}\ninterface EmbeddingStats {\n    totalDocuments: number;\n    totalChunks: number;\n    totalEmbeddings: number;\n    embeddingDimensions: number;\n    indexSizeMb: number;\n    lastIndexedAt?: string;\n    timestamp: string;\n}\ninterface ModelRoutingConfig {\n    phiDetectionEnabled: boolean;\n    phiRouteToLocal: boolean;\n    defaultChatModel: string;\n    defaultEmbeddingModel: string;\n    fallbackEnabled: boolean;\n    fallbackModel?: string;\n    timestamp: string;\n}\ninterface ModelRoutingUpdate {\n    phiDetectionEnabled?: boolean;\n    phiRouteToLocal?: boolean;\n    defaultChatModel?: string;\n    defaultEmbeddingModel?: string;\n    fallbackEnabled?: boolean;\n    fallbackModel?: string;\n}\ninterface ResourceMetrics {\n    diskTotalGb: number;\n    diskUsedGb: number;\n    diskFreeGb: number;\n    diskUsagePercent: number;\n    memoryTotalGb: number;\n    memoryUsedGb: number;\n    memoryFreeGb: number;\n    memoryUsagePercent: number;\n    cpuCount: number;\n    cpuUsagePercent: number;\n    loadAverage1m: number;\n    loadAverage5m: number;\n    loadAverage15m: number;\n    timestamp: string;\n}\ntype BackupResult = \"success\" | \"failed\" | \"in_progress\" | \"unknown\";\ntype BackupType = \"full\" | \"incremental\";\ninterface BackupStatus {\n    lastBackupAt?: string;\n    lastBackupResult: BackupResult;\n    backupDestination: string;\n    schedule: string;\n    retentionDays: number;\n    nextScheduledAt?: string;\n    backupSizeMb?: number;\n    timestamp: string;\n}\ninterface BackupHistoryEntry {\n    id: string;\n    startedAt: string;\n    completedAt?: string;\n    status: BackupResult;\n    sizeBytes?: number;\n    backupType: BackupType;\n    errorMessage?: string;\n}\ninterface BackupTriggerResult {\n    message: string;\n    backupId: string;\n    backupType: BackupType;\n    status: BackupResult;\n    timestamp: string;\n}\ninterface MaintenanceStatus {\n    enabled: boolean;\n    startedAt?: string;\n    startedBy?: string;\n    message?: string;\n    estimatedEnd?: string;\n    timestamp: string;\n}\ninterface MaintenanceRequest {\n    message?: string;\n    estimatedDurationMinutes?: number;\n}\ntype SystemHealthStatus = \"healthy\" | \"degraded\" | \"unhealthy\";\ninterface SystemHealth {\n    status: SystemHealthStatus;\n    uptimeSeconds: number;\n    services: Record<string, string>;\n    lastCheckedAt: string;\n}\ninterface CacheStats {\n    l1Size: number;\n    l1MaxSize: number;\n    l1Utilization: number;\n    l2UsedMemory: number;\n    l2UsedMemoryHuman: string;\n    l2ConnectedClients: number;\n}\ninterface CacheNamespaceStats {\n    namespace: string;\n    keyCount: number;\n    estimatedSizeBytes: number;\n}\ninterface CacheNamespacesResponse {\n    namespaces: CacheNamespaceStats[];\n    totalNamespaces: number;\n}\ninterface CacheInvalidateResult {\n    pattern?: string;\n    namespace?: string;\n    deletedCount: number;\n    message: string;\n}\ninterface AdminConversation {\n    id: string;\n    userId: string;\n    userEmail?: string;\n    title: string;\n    messageCount: number;\n    branchCount: number;\n    model?: string;\n    folderName?: string;\n    createdAt: string;\n    updatedAt: string;\n}\ninterface AdminConversationsResponse {\n    conversations: AdminConversation[];\n    total: number;\n    limit: number;\n    offset: number;\n}\ninterface AdminMessage {\n    id: string;\n    sessionId: string;\n    role: \"user\" | \"assistant\" | \"system\";\n    content: string;\n    createdAt: string;\n    tokensUsed?: number;\n    model?: string;\n    branchId?: string;\n    parentMessageId?: string;\n    attachments?: AdminAttachment[];\n    metadata?: Record<string, unknown>;\n}\ninterface AdminMessagesResponse {\n    messages: AdminMessage[];\n    total: number;\n    limit: number;\n    offset: number;\n}\ninterface AdminConversationExport {\n    content: string;\n    format: \"json\" | \"markdown\";\n}\ninterface AdminClinicalContext {\n    id: string;\n    userId: string;\n    userEmail?: string;\n    sessionId?: string;\n    createdAt: string;\n    lastUpdated: string;\n    /** Demographics summary (age, gender) - always visible */\n    demographicsSummary?: string;\n    /** Medication count - always visible */\n    medicationsCount: number;\n    /** Allergies count - always visible */\n    allergiesCount: number;\n    /** Problems count - always visible */\n    problemsCount: number;\n    /** Full context data - only when includePhi is true */\n    fullContext?: ClinicalContext;\n}\ninterface AdminClinicalContextsResponse {\n    contexts: AdminClinicalContext[];\n    total: number;\n    limit: number;\n    offset: number;\n}\ninterface AdminClinicalContextStats {\n    totalContexts: number;\n    activeContexts24h: number;\n    avgMedicationsPerContext: number;\n    avgAllergiesPerContext: number;\n    avgProblemsPerContext: number;\n    contextsByDay: Array<{\n        date: string;\n        count: number;\n    }>;\n}\ninterface AdminPHIAccessLog {\n    id: string;\n    adminUserId: string;\n    adminEmail: string;\n    contextId: string;\n    accessedAt: string;\n    ipAddress?: string;\n    userAgent?: string;\n}\ninterface AdminPHIAuditResponse {\n    logs: AdminPHIAccessLog[];\n    total: number;\n    limit: number;\n    offset: number;\n}\ninterface AdminAttachment {\n    id: string;\n    messageId: string;\n    userId: string;\n    userEmail?: string;\n    fileName: string;\n    fileType: string;\n    fileSize: number;\n    mimeType?: string;\n    uploadedAt: string;\n}\ninterface AdminAttachmentsResponse {\n    attachments: AdminAttachment[];\n    total: number;\n    limit: number;\n    offset: number;\n}\ninterface AdminAttachmentStats {\n    totalAttachments: number;\n    totalSizeBytes: number;\n    byFileType: Record<string, {\n        count: number;\n        sizeBytes: number;\n    }>;\n    uploadsByDay: Array<{\n        date: string;\n        count: number;\n        sizeBytes: number;\n    }>;\n}\ninterface AdminFolder {\n    id: string;\n    userId: string;\n    userEmail?: string;\n    name: string;\n    color?: string;\n    icon?: string;\n    parentFolderId?: string;\n    conversationCount: number;\n    depth: number;\n    createdAt: string;\n}\ninterface AdminFoldersResponse {\n    folders: AdminFolder[];\n    total: number;\n    limit: number;\n    offset: number;\n}\ninterface AdminFolderStats {\n    totalFolders: number;\n    avgConversationsPerFolder: number;\n    maxDepth: number;\n    foldersWithSubfolders: number;\n}\ninterface AdminVoiceSession {\n    sessionId: string;\n    userId: string;\n    userEmail?: string;\n    connectedAt: string;\n    sessionType: \"text\" | \"voice\" | \"realtime\";\n    clientInfo: Record<string, unknown>;\n    messagesCount: number;\n    lastActivity?: string;\n}\ninterface AdminVoiceSessionDetail extends AdminVoiceSession {\n    conversationId?: string;\n    voice?: string;\n    language?: string;\n    durationSeconds?: number;\n    audioFormat?: string;\n}\ninterface AdminVoiceSessionsResponse {\n    sessions: AdminVoiceSession[];\n    total: number;\n}\ninterface AdminVoiceMetrics {\n    activeSessions: number;\n    totalSessions24h: number;\n    avgSessionDurationSec: number;\n    sttLatencyP95Ms: number;\n    ttsLatencyP95Ms: number;\n    errorRate24h: number;\n    connectionsByType: Record<string, number>;\n    timestamp: string;\n}\ninterface AdminVoiceHealth {\n    status: \"healthy\" | \"degraded\" | \"unhealthy\";\n    realtimeApiEnabled: boolean;\n    openaiApiConfigured: boolean;\n    redisConnected: boolean;\n    activeConnections: number;\n    details: Record<string, unknown>;\n    timestamp: string;\n}\ninterface AdminVoiceConfig {\n    defaultVoice: string;\n    defaultLanguage: string;\n    vadEnabled: boolean;\n    vadThreshold: number;\n    maxSessionDurationSec: number;\n    sttProvider: string;\n    ttsProvider: string;\n    realtimeEnabled: boolean;\n    timestamp: string;\n}\ntype TTSessionState = \"idle\" | \"listening\" | \"thinking\" | \"speaking\";\ninterface AdminTTSession {\n    sessionId: string;\n    userId: string;\n    userEmail?: string;\n    state: TTSessionState;\n    connectedAt: string;\n    lastActivity: string;\n    thinkerModel?: string;\n    talkerVoice?: string;\n    messagesProcessed: number;\n    avgResponseTimeMs?: number;\n}\ninterface AdminTTSessionsResponse {\n    sessions: AdminTTSession[];\n    total: number;\n}\ninterface AdminTTContext {\n    contextId: string;\n    sessionId: string;\n    userId: string;\n    createdAt: string;\n    lastAccessed: string;\n    messageCount: number;\n    tokenCount: number;\n    expiresAt: string;\n}\ninterface AdminTTContextsResponse {\n    contexts: AdminTTContext[];\n    total: number;\n}\ninterface AdminQualityPreset {\n    name: string;\n    description: string;\n    ttsModel: string;\n    voiceId: string;\n    speed: number;\n    isDefault: boolean;\n}\ninterface AdminQualityPresetsResponse {\n    presets: AdminQualityPreset[];\n}\ninterface AdminTTAnalytics {\n    totalToolCalls24h: number;\n    avgToolLatencyMs: number;\n    toolSuccessRate: number;\n    toolsByFrequency: Record<string, number>;\n    kbCalls24h: number;\n    kbAvgLatencyMs: number;\n}\ninterface AdminContextCleanupResult {\n    cleanedCount: number;\n}\ntype AdminEventType = \"session.connected\" | \"session.disconnected\" | \"conversation.created\" | \"conversation.updated\" | \"message.created\" | \"clinical_context.updated\" | \"attachment.uploaded\" | \"phi.accessed\" | \"voice.session_started\" | \"voice.session_ended\" | \"tt.state_changed\" | \"system.alert\";\ninterface AdminRealtimeEvent {\n    type: AdminEventType;\n    timestamp: string;\n    userId?: string;\n    userEmail?: string;\n    sessionId?: string;\n    resourceId?: string;\n    data?: Record<string, unknown>;\n}\ninterface AdminEventSubscription {\n    eventTypes: AdminEventType[];\n    userFilter?: string[];\n    callback: (event: AdminRealtimeEvent) => void;\n}\ntype Nullable<T> = T | null;\ntype Optional<T> = T | undefined;\ntype DeepPartial<T> = {\n    [P in keyof T]?: T[P] extends object ? DeepPartial<T[P]> : T[P];\n};\n/**\n * Type guard to check if an error has a message property\n */\ndeclare function isErrorWithMessage(err: unknown): err is {\n    message: string;\n};\n/**\n * Safely extracts an error message from an unknown error type.\n * Handles Error instances, objects with message property, and strings.\n * This replaces the need for `catch (err: any)` patterns.\n *\n * @example\n * try {\n *   await fetchData();\n * } catch (err: unknown) {\n *   setError(extractErrorMessage(err));\n * }\n */\ndeclare function extractErrorMessage(err: unknown): string;\n\nexport { type AdminAttachment, type AdminAttachmentStats, type AdminAttachmentsResponse, type AdminClinicalContext, type AdminClinicalContextStats, type AdminClinicalContextsResponse, type AdminContextCleanupResult, type AdminConversation, type AdminConversationExport, type AdminConversationsResponse, type AdminEventSubscription, type AdminEventType, type AdminFolder, type AdminFolderStats, type AdminFoldersResponse, type AdminMessage, type AdminMessagesResponse, type AdminPHIAccessLog, type AdminPHIAuditResponse, type AdminQualityPreset, type AdminQualityPresetsResponse, type AdminRealtimeEvent, type AdminTTAnalytics, type AdminTTContext, type AdminTTContextsResponse, type AdminTTSession, type AdminTTSessionsResponse, type AdminVoiceConfig, type AdminVoiceHealth, type AdminVoiceMetrics, type AdminVoiceSession, type AdminVoiceSessionDetail, type AdminVoiceSessionsResponse, type AdvancedVoiceSettings, type ApiError, type ApiMeta, type ApiResponse, type Attachment, type AttachmentUploadResponse, type AuditLogEntry, type AuthTokens, type BackupHistoryEntry, type BackupResult, type BackupStatus, type BackupTriggerResult, type BackupType, type Branch, type CacheInvalidateResult, type CacheNamespaceStats, type CacheNamespacesResponse, type CacheStats, type CalibrationProgress, type CalibrationResult, type CalibrationSettings, type ChatStreamChunk, type Citation, type ClinicalContext, type ClinicalContextCreate, type ClinicalContextPreset, type ClinicalContextUpdate, type ClinicalPresetCategory, type ClinicalPresetCreate, type ClinicalPresetUpdate, type ConnectionStatus, type Conversation, type ConversationIntelligenceSettings, type ConversationTemplate, type CreateBranchRequest, type CreateFolderRequest, type CreateTemplateRequest, type DeepPartial, type DiscoursePhase, type DiscourseState, type Document, type DocumentStatus, type EmbeddingStats, type ErrorInfo, type Folder, type IntegrationConfig, type IntegrationConfigUpdate, type IntegrationDetail, type IntegrationMetrics, type IntegrationStatus, type IntegrationSummary, type IntegrationTestResult, type IntegrationType, type IntegrationsHealthSummary, type KnowledgeBaseEntry, type LoginRequest, type LoginResponse, type MaintenanceRequest, type MaintenanceStatus, type Message, type MessageMetadata, type ModelBreakdown, type ModelInfo, type ModelProvider, type ModelRoutingConfig, type ModelRoutingUpdate, type ModelType, type ModelUsageMetrics, type MultilingualSettings, type NotificationSettings, type Nullable, type OfflineModeSettings, type Optional, type PHIEvent, type PHIEventsResponse, type PHIHealthStatus, type PHIRedactResult, type PHIRoutingConfig, type PHIRoutingMode, type PHIRoutingUpdate, type PHIRule, type PHIRuleStatus, type PHIRuleType, type PHIRuleUpdate, type PHIRulesResponse, type PHIStats, type PHITestRequest, type PHITestResult, type PaginatedResponse, type PresetContext, type PresetVitals, type ResourceMetrics, type ResponseRecommendations, type SearchResult, type SearchStats, type SentimentResult, type SentimentType, type ShareLink, type ShareRequest, type ShareResponse, type Source, type SystemHealth, type SystemHealthStatus, type SystemMetrics, type TTSessionConfig, type TTSessionState, type TTVoiceMetrics, type TemplateMessage, type TokenResponse, type ToolCall, type TranscriptionResult, type UpdateConversationRequest, type UpdateFolderRequest, type UpdateTemplateRequest, type UploadProgress, type User, type UserRole, type UserSettings, type Vitals, type VoiceConfig, type VoicePrivacySettings, type WebSocketError, type WebSocketErrorCode, type WebSocketEvent, type WebSocketEventType, type WebSocketMessage, extractErrorMessage, isErrorWithMessage };\n"
}
