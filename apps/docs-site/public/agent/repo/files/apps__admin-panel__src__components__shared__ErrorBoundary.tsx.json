{
  "path": "apps/admin-panel/src/components/shared/ErrorBoundary.tsx",
  "language": "typescript",
  "size": 2693,
  "last_modified": "2025-12-03T03:40:02.339Z",
  "lines": 85,
  "content": "import { Component, ErrorInfo, ReactNode } from \"react\";\n\ninterface ErrorBoundaryProps {\n  children: ReactNode;\n  fallback?: ReactNode;\n}\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  error: Error | null;\n  errorInfo: ErrorInfo | null;\n}\n\nexport class ErrorBoundary extends Component<\n  ErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false, error: null, errorInfo: null };\n  }\n\n  static getDerivedStateFromError(error: Error): Partial<ErrorBoundaryState> {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    this.setState({ errorInfo });\n    // Log error to console in development\n    console.error(\"ErrorBoundary caught an error:\", error, errorInfo);\n  }\n\n  handleReset = () => {\n    this.setState({ hasError: false, error: null, errorInfo: null });\n  };\n\n  render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      return (\n        <div className=\"min-h-screen bg-slate-950 flex items-center justify-center p-6\">\n          <div className=\"max-w-lg w-full bg-slate-900 border border-slate-800 rounded-lg p-8 text-center\">\n            <div className=\"text-4xl mb-4\">&#9888;&#65039;</div>\n            <h1 className=\"text-xl font-semibold text-slate-100 mb-2\">\n              Something went wrong\n            </h1>\n            <p className=\"text-sm text-slate-400 mb-6\">\n              An unexpected error occurred. Please try again or contact support\n              if the problem persists.\n            </p>\n\n            {this.state.error && (\n              <div className=\"mb-6 p-3 bg-red-950/30 border border-red-900 rounded text-left\">\n                <p className=\"text-xs text-red-400 font-mono break-all\">\n                  {this.state.error.message}\n                </p>\n              </div>\n            )}\n\n            <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\n              <button\n                onClick={this.handleReset}\n                className=\"px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors\"\n              >\n                Try Again\n              </button>\n              <button\n                onClick={() => (window.location.href = \"/dashboard\")}\n                className=\"px-4 py-2 text-sm font-medium bg-slate-800 hover:bg-slate-700 text-slate-200 border border-slate-700 rounded-md transition-colors\"\n              >\n                Go to Dashboard\n              </button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n"
}
