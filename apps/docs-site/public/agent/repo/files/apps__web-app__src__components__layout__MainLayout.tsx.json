{
  "path": "apps/web-app/src/components/layout/MainLayout.tsx",
  "language": "typescript",
  "size": 31686,
  "last_modified": "2025-12-02T01:13:41.903Z",
  "lines": 654,
  "content": "/**\n * Main Application Layout\n * Layout with header, sidebar, and content area\n */\n\nimport { useState } from \"react\";\nimport { Link, Outlet, useNavigate, useLocation } from \"react-router-dom\";\nimport {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Button,\n  Avatar,\n  Badge,\n  IconButton,\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n} from \"@voiceassist/ui\";\nimport { useAuth } from \"../../hooks/useAuth\";\nimport { useKeyboardShortcuts } from \"../../hooks/useKeyboardShortcuts\";\nimport { useTheme } from \"../../contexts/ThemeContext\";\nimport { useFeatureFlag } from \"../../hooks/useExperiment\";\nimport { UI_FLAGS } from \"../../lib/featureFlags\";\nimport { ConversationList } from \"../conversations/ConversationList\";\nimport { SkipLink } from \"../accessibility/SkipLink\";\nimport { FeedbackWidget } from \"../feedback/FeedbackWidget\";\n\nexport function MainLayout() {\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { theme, setTheme } = useTheme();\n\n  // Check if unified chat/voice UI feature flag is enabled\n  const { isEnabled: useUnifiedUI } = useFeatureFlag(\n    UI_FLAGS.UNIFIED_CHAT_VOICE,\n  );\n\n  // Enable keyboard shortcuts\n  useKeyboardShortcuts();\n\n  const isChatRoute = location.pathname.startsWith(\"/chat\");\n\n  // Hide MainLayout sidebar when unified UI is enabled on chat routes\n  // (UnifiedChatContainer has its own CollapsibleSidebar)\n  const hideSidebar = isChatRoute && useUnifiedUI;\n\n  const handleLogout = async () => {\n    await logout();\n    navigate(\"/login\");\n  };\n\n  // Helper to check if a route is active\n  const isActiveRoute = (path: string) => {\n    if (path === \"/\") {\n      return location.pathname === \"/\";\n    }\n    return location.pathname.startsWith(path);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-neutral-50 dark:bg-neutral-950\">\n      {/* Skip Navigation */}\n      <SkipLink />\n\n      {/* Header */}\n      <header\n        className=\"sticky top-0 z-40 bg-white border-b border-neutral-200 dark:bg-neutral-900 dark:border-neutral-800\"\n        role=\"banner\"\n      >\n        <div className=\"flex items-center justify-between h-16 px-4 lg:px-6\">\n          {/* Mobile menu button */}\n          <button\n            type=\"button\"\n            className=\"lg:hidden p-2 rounded-md text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100 dark:text-neutral-400 dark:hover:text-neutral-300 dark:hover:bg-neutral-800\"\n            onClick={() => setSidebarOpen(!sidebarOpen)}\n            aria-label=\"Toggle sidebar\"\n            aria-expanded={sidebarOpen}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              strokeWidth={1.5}\n              stroke=\"currentColor\"\n              className=\"w-6 h-6\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                d=\"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5\"\n              />\n            </svg>\n          </button>\n\n          {/* Logo */}\n          <div className=\"flex items-center\">\n            <Link to=\"/\" className=\"flex items-center space-x-2\">\n              <div className=\"h-8 w-8 rounded-full bg-primary-500 flex items-center justify-center\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  strokeWidth={2}\n                  stroke=\"white\"\n                  className=\"w-5 h-5\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    d=\"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z\"\n                  />\n                </svg>\n              </div>\n              <span className=\"hidden sm:inline-block text-lg font-semibold text-neutral-900 dark:text-neutral-50\">\n                VoiceAssist\n              </span>\n            </Link>\n          </div>\n\n          {/* Right section: Theme toggle + User menu */}\n          <div className=\"flex items-center space-x-2\">\n            {/* Theme toggle */}\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <IconButton variant=\"ghost\" size=\"md\" aria-label=\"Toggle theme\">\n                  {theme === \"light\" ? (\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      strokeWidth={1.5}\n                      stroke=\"currentColor\"\n                      className=\"w-5 h-5\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        d=\"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z\"\n                      />\n                    </svg>\n                  ) : (\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      strokeWidth={1.5}\n                      stroke=\"currentColor\"\n                      className=\"w-5 h-5\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        d=\"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z\"\n                      />\n                    </svg>\n                  )}\n                </IconButton>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\">\n                <DropdownMenuItem onClick={() => setTheme(\"light\")}>\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    strokeWidth={1.5}\n                    stroke=\"currentColor\"\n                    className=\"w-4 h-4 mr-2\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z\"\n                    />\n                  </svg>\n                  Light\n                  {theme === \"light\" && (\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      strokeWidth={2}\n                      stroke=\"currentColor\"\n                      className=\"w-4 h-4 ml-auto\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        d=\"M4.5 12.75l6 6 9-13.5\"\n                      />\n                    </svg>\n                  )}\n                </DropdownMenuItem>\n                <DropdownMenuItem onClick={() => setTheme(\"dark\")}>\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    strokeWidth={1.5}\n                    stroke=\"currentColor\"\n                    className=\"w-4 h-4 mr-2\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z\"\n                    />\n                  </svg>\n                  Dark\n                  {theme === \"dark\" && (\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      strokeWidth={2}\n                      stroke=\"currentColor\"\n                      className=\"w-4 h-4 ml-auto\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        d=\"M4.5 12.75l6 6 9-13.5\"\n                      />\n                    </svg>\n                  )}\n                </DropdownMenuItem>\n                <DropdownMenuItem onClick={() => setTheme(\"system\")}>\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    strokeWidth={1.5}\n                    stroke=\"currentColor\"\n                    className=\"w-4 h-4 mr-2\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25\"\n                    />\n                  </svg>\n                  System\n                  {theme === \"system\" && (\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      strokeWidth={2}\n                      stroke=\"currentColor\"\n                      className=\"w-4 h-4 ml-auto\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        d=\"M4.5 12.75l6 6 9-13.5\"\n                      />\n                    </svg>\n                  )}\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n\n            {/* User menu */}\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <button\n                  className=\"flex items-center space-x-2 rounded-full focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\"\n                  aria-label=\"User menu\"\n                >\n                  <Avatar\n                    alt={user?.name || \"User\"}\n                    size=\"sm\"\n                    className=\"cursor-pointer\"\n                  />\n                </button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-56\">\n                <DropdownMenuLabel>\n                  <div className=\"flex flex-col space-y-1\">\n                    <p className=\"text-sm font-medium text-text-primary\">\n                      {user?.name}\n                    </p>\n                    <p className=\"text-xs text-text-tertiary\">{user?.email}</p>\n                  </div>\n                </DropdownMenuLabel>\n                <DropdownMenuSeparator />\n                {user?.role && (\n                  <>\n                    <div className=\"px-2 py-1.5\">\n                      <Badge variant=\"secondary\" size=\"sm\">\n                        {user.role.charAt(0).toUpperCase() + user.role.slice(1)}\n                      </Badge>\n                    </div>\n                    <DropdownMenuSeparator />\n                  </>\n                )}\n                <DropdownMenuItem onClick={() => navigate(\"/profile\")}>\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    strokeWidth={1.5}\n                    stroke=\"currentColor\"\n                    className=\"w-4 h-4 mr-2\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z\"\n                    />\n                  </svg>\n                  Profile\n                </DropdownMenuItem>\n                <DropdownMenuItem onClick={() => navigate(\"/settings\")}>\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    strokeWidth={1.5}\n                    stroke=\"currentColor\"\n                    className=\"w-4 h-4 mr-2\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z\"\n                    />\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                    />\n                  </svg>\n                  Settings\n                </DropdownMenuItem>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem onClick={handleLogout}>\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    strokeWidth={1.5}\n                    stroke=\"currentColor\"\n                    className=\"w-4 h-4 mr-2\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75\"\n                    />\n                  </svg>\n                  Sign out\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n        </div>\n      </header>\n\n      {/* Sidebar overlay (mobile) - hide when unified UI is active */}\n      {sidebarOpen && !hideSidebar && (\n        <div\n          className=\"fixed inset-0 z-30 bg-neutral-900/50 lg:hidden\"\n          onClick={() => setSidebarOpen(false)}\n          aria-hidden=\"true\"\n        />\n      )}\n\n      <div className=\"flex h-[calc(100vh-4rem)]\">\n        {/* Sidebar - hide when unified UI is active on chat routes */}\n        {!hideSidebar && (\n          <aside\n            className={`\n            fixed inset-y-0 left-0 z-30 w-64 transform bg-white border-r border-neutral-200 dark:bg-neutral-900 dark:border-neutral-800 transition-transform duration-300 ease-in-out\n            lg:relative lg:translate-x-0 top-16\n            ${sidebarOpen ? \"translate-x-0\" : \"-translate-x-full\"}\n          `}\n            aria-label={isChatRoute ? \"Conversations\" : \"Sidebar navigation\"}\n          >\n            {isChatRoute ? (\n              <ConversationList />\n            ) : (\n              <nav className=\"h-full overflow-y-auto pt-4 pb-8\">\n                <ul className=\"space-y-1 px-3\">\n                  <li>\n                    <Link\n                      to=\"/\"\n                      className={`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n                        isActiveRoute(\"/\")\n                          ? \"bg-primary-100 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400\"\n                          : \"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:hover:text-neutral-50\"\n                      }`}\n                      onClick={() => setSidebarOpen(false)}\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        strokeWidth={1.5}\n                        stroke=\"currentColor\"\n                        className=\"w-5 h-5\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          d=\"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25\"\n                        />\n                      </svg>\n                      <span>Home</span>\n                    </Link>\n                  </li>\n                  <li>\n                    <Link\n                      to=\"/chat\"\n                      className={`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n                        isActiveRoute(\"/chat\")\n                          ? \"bg-primary-100 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400\"\n                          : \"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:hover:text-neutral-50\"\n                      }`}\n                      onClick={() => setSidebarOpen(false)}\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        strokeWidth={1.5}\n                        stroke=\"currentColor\"\n                        className=\"w-5 h-5\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          d=\"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z\"\n                        />\n                      </svg>\n                      <span>Chat</span>\n                    </Link>\n                  </li>\n                  <li>\n                    <Link\n                      to=\"/documents\"\n                      className={`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n                        isActiveRoute(\"/documents\")\n                          ? \"bg-primary-100 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400\"\n                          : \"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:hover:text-neutral-50\"\n                      }`}\n                      onClick={() => setSidebarOpen(false)}\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        strokeWidth={1.5}\n                        stroke=\"currentColor\"\n                        className=\"w-5 h-5\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          d=\"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z\"\n                        />\n                      </svg>\n                      <span>Documents</span>\n                    </Link>\n                  </li>\n                  <li>\n                    <Link\n                      to=\"/clinical-context\"\n                      className={`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n                        isActiveRoute(\"/clinical-context\")\n                          ? \"bg-primary-100 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400\"\n                          : \"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:hover:text-neutral-50\"\n                      }`}\n                      onClick={() => setSidebarOpen(false)}\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        strokeWidth={1.5}\n                        stroke=\"currentColor\"\n                        className=\"w-5 h-5\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          d=\"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z\"\n                        />\n                      </svg>\n                      <span>Clinical Context</span>\n                    </Link>\n                  </li>\n                  <li>\n                    <Link\n                      to=\"/integrations\"\n                      className={`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n                        isActiveRoute(\"/integrations\")\n                          ? \"bg-primary-100 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400\"\n                          : \"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:hover:text-neutral-50\"\n                      }`}\n                      onClick={() => setSidebarOpen(false)}\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        strokeWidth={1.5}\n                        stroke=\"currentColor\"\n                        className=\"w-5 h-5\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          d=\"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5\"\n                        />\n                      </svg>\n                      <span>Integrations</span>\n                    </Link>\n                  </li>\n                  <li>\n                    <Link\n                      to=\"/settings\"\n                      className={`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${\n                        isActiveRoute(\"/settings\")\n                          ? \"bg-primary-100 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400\"\n                          : \"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:hover:text-neutral-50\"\n                      }`}\n                      onClick={() => setSidebarOpen(false)}\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        strokeWidth={1.5}\n                        stroke=\"currentColor\"\n                        className=\"w-5 h-5\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          d=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z\"\n                        />\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                        />\n                      </svg>\n                      <span>Settings</span>\n                    </Link>\n                  </li>\n                  {/* Admin Panel link - visible only for admin users */}\n                  {user?.role === \"admin\" && (\n                    <li>\n                      <a\n                        href={\n                          import.meta.env.VITE_ADMIN_URL ||\n                          \"https://admin.asimo.io\"\n                        }\n                        className=\"flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:hover:text-neutral-50\"\n                        onClick={() => setSidebarOpen(false)}\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          fill=\"none\"\n                          viewBox=\"0 0 24 24\"\n                          strokeWidth={1.5}\n                          stroke=\"currentColor\"\n                          className=\"w-5 h-5\"\n                        >\n                          <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            d=\"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z\"\n                          />\n                        </svg>\n                        <span>Admin Panel</span>\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          fill=\"none\"\n                          viewBox=\"0 0 24 24\"\n                          strokeWidth={1.5}\n                          stroke=\"currentColor\"\n                          className=\"w-3 h-3 ml-auto opacity-50\"\n                        >\n                          <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            d=\"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25\"\n                          />\n                        </svg>\n                      </a>\n                    </li>\n                  )}\n                  <li>\n                    <a\n                      href={\n                        import.meta.env.VITE_DOCS_URL || \"https://docs.asimo.io\"\n                      }\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:hover:text-neutral-50\"\n                      onClick={() => setSidebarOpen(false)}\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        strokeWidth={1.5}\n                        stroke=\"currentColor\"\n                        className=\"w-5 h-5\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          d=\"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25\"\n                        />\n                      </svg>\n                      <span>Docs</span>\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        strokeWidth={1.5}\n                        stroke=\"currentColor\"\n                        className=\"w-3 h-3 ml-auto opacity-50\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          d=\"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25\"\n                        />\n                      </svg>\n                    </a>\n                  </li>\n                </ul>\n              </nav>\n            )}\n          </aside>\n        )}\n\n        {/* Main content */}\n        <main id=\"main-content\" className=\"flex-1 overflow-hidden\" role=\"main\">\n          <Outlet />\n        </main>\n      </div>\n      <FeedbackWidget />\n    </div>\n  );\n}\n"
}
