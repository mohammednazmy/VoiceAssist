# VoiceAssist V2 Documentation Index
# Machine-readable index for AI assistants and tooling
# Last Updated: 2025-11-20

docs:
  # Overview & Planning
  - id: project_summary
    path: docs/PROJECT_SUMMARY.md
    title: "Project Summary"
    category: overview
    audience: [stakeholder, pm, developer]
    summary: "High-level project overview, tech stack, cost estimates, quick start commands."
    related: [start_here, architecture_v2]

  - id: start_here
    path: docs/START_HERE.md
    title: "Start Here - Project Orientation"
    category: overview
    audience: [developer, clinician, security, admin]
    summary: "Main entry point with role-based guides, documentation map, quick start paths."
    related: [architecture_v2, development_phases_v2]

  - id: architecture_v2
    path: docs/ARCHITECTURE_V2.md
    title: "Architecture V2 - Docker Compose First"
    category: architecture
    audience: [developer, ops, security]
    summary: "System architecture, microservices, Nextcloud integration, Compose-first strategy."
    related: [service_catalog, backend_architecture, infrastructure_setup]

  - id: backend_architecture
    path: docs/BACKEND_ARCHITECTURE.md
    title: "Backend Architecture - Monorepo vs Microservices"
    category: architecture
    audience: [developer, ops]
    summary: "Monorepo structure (Phases 0-10) vs microservices (Phases 11-14), migration path."
    related: [service_catalog, architecture_v2]

  # Development Phases
  - id: development_phases_v2
    path: docs/DEVELOPMENT_PHASES_V2.md
    title: "Development Phases V2 (15 Phases)"
    category: planning
    audience: [developer, pm]
    summary: "Complete 15-phase development plan (Phase 0-14), Compose-first approach."
    related: [roadmap, all_phases_summary]

  - id: roadmap
    path: docs/ROADMAP.md
    title: "Development Roadmap"
    category: planning
    audience: [pm, stakeholder]
    summary: "Time-based phase grouping, milestones, dependencies."
    related: [development_phases_v2, all_phases_summary]

  - id: all_phases_summary
    path: docs/ALL_PHASES_SUMMARY.md
    title: "All Phases Summary"
    category: planning
    audience: [developer, pm]
    summary: "Brief description of each phase (0-14) with deliverables."
    related: [development_phases_v2, roadmap]

  - id: phase_status
    path: PHASE_STATUS.md
    title: "Phase Status Tracking"
    category: planning
    audience: [developer, pm]
    summary: "Detailed phase completion tracking (0-14)."
    related: [development_phases_v2]

  # Development Setup
  - id: local_development
    path: docs/LOCAL_DEVELOPMENT.md
    title: "Local Development Guide"
    category: reference
    audience: [developer]
    summary: "Complete local setup, ports table, separate Nextcloud stack, daily workflow."
    related: [architecture_v2, infrastructure_setup]

  - id: infrastructure_setup
    path: docs/INFRASTRUCTURE_SETUP.md
    title: "Infrastructure Setup - Ubuntu Production"
    category: deployment
    audience: [ops]
    summary: "Production server deployment, separate stacks, systemd, backups."
    related: [local_development, compose_to_k8s]

  - id: compose_to_k8s
    path: docs/COMPOSE_TO_K8S_MIGRATION.md
    title: "Docker Compose to Kubernetes Migration"
    category: deployment
    audience: [ops]
    summary: "Migration guide from Compose (Phases 0-10) to K8s (Phases 11-14)."
    related: [infrastructure_setup, architecture_v2]

  # Security & Compliance
  - id: security_compliance
    path: docs/SECURITY_COMPLIANCE.md
    title: "Security & HIPAA Compliance"
    category: security
    audience: [security, developer, ops]
    summary: "HIPAA requirements, PHI handling, audit logging, encryption."
    related: [semantic_search_design, orchestration_design, observability]

  - id: nextcloud_integration
    path: docs/NEXTCLOUD_INTEGRATION.md
    title: "Nextcloud Integration - Separate Stack"
    category: architecture
    audience: [developer, ops, security]
    summary: "Separate Nextcloud stack, WebDAV integration, dev/prod config."
    related: [architecture_v2, infrastructure_setup]

  # Core Design
  - id: data_model
    path: docs/DATA_MODEL.md
    title: "Canonical Data Model"
    category: design
    audience: [developer]
    summary: "All 11 entities with JSON Schema, Pydantic, TypeScript definitions."
    related: [web_app_specs, admin_panel_specs, semantic_search_design]

  - id: service_catalog
    path: docs/SERVICE_CATALOG.md
    title: "Service Catalog"
    category: design
    audience: [developer, ops]
    summary: "All 10+ services with ports, endpoints, dependencies, monorepo paths."
    related: [backend_architecture, architecture_v2]

  - id: orchestration_design
    path: docs/ORCHESTRATION_DESIGN.md
    title: "Orchestration & Conductor Design"
    category: design
    audience: [developer]
    summary: "Query orchestrator, 10-step pipeline, failure modes, conductor API."
    related: [semantic_search_design, service_catalog, data_model]

  - id: semantic_search_design
    path: docs/SEMANTIC_SEARCH_DESIGN.md
    title: "Semantic Search & RAG Design"
    category: design
    audience: [developer]
    summary: "KB ingestion, vector search, RAG pipeline, PHI detection, idempotency, state machine."
    related: [orchestration_design, data_model, security_compliance]

  - id: observability
    path: docs/OBSERVABILITY.md
    title: "Observability - Metrics, Logs, Traces"
    category: operations
    audience: [ops, developer]
    summary: "Health/ready/metrics endpoints, Prometheus metrics, structured logging, alerting, tool metrics."
    related: [architecture_v2, security_compliance, admin_panel_specs, tools_integrations]

  - id: tools_integrations
    path: docs/TOOLS_AND_INTEGRATIONS.md
    title: "Tools & External Integrations"
    category: design
    audience: [developer]
    summary: "10 tools for OpenAI Realtime API, Pydantic models, PHI classification, tool registry, external API integrations."
    related: [orchestration_design, data_model, security_compliance, observability]

  # Application Specifications
  - id: web_app_specs
    path: docs/WEB_APP_SPECS.md
    title: "Web App Specifications"
    category: specifications
    audience: [developer, ux]
    summary: "Clinician-facing UI, clinical workflows, voice interface, user settings, chat data flow."
    related: [data_model, service_catalog, medical_features]

  - id: admin_panel_specs
    path: docs/ADMIN_PANEL_SPECS.md
    title: "Admin Panel Specifications"
    category: specifications
    audience: [developer, admin]
    summary: "System management, KB management, user admin, system settings, indexing job UI."
    related: [data_model, service_catalog, observability]

  - id: medical_features
    path: docs/MEDICAL_FEATURES.md
    title: "Medical Features & Use Cases"
    category: specifications
    audience: [clinician, developer, product]
    summary: "Medical capabilities, clinical workflows, use cases, privacy considerations."
    related: [web_app_specs, semantic_search_design]

  # Implementation Guides
  - id: server_readme
    path: server/README.md
    title: "Backend Implementation Guide"
    category: implementation
    audience: [developer]
    summary: "FastAPI backend, service architecture, API envelope, monorepo structure."
    related: [data_model, service_catalog, backend_architecture]

  - id: web_app_readme
    path: apps/web-app/README.md
    title: "Web App Implementation Guide"
    category: implementation
    audience: [developer]
    summary: "Next.js web app, React hooks, API integration, development setup."
    related: [web_app_specs, data_model]

  - id: admin_panel_readme
    path: apps/admin-panel/README.md
    title: "Admin Panel Implementation Guide"
    category: implementation
    audience: [developer]
    summary: "Next.js admin panel, React hooks, KB management, development setup."
    related: [admin_panel_specs, data_model]

  - id: api_gateway_readme
    path: services/api-gateway/README.md
    title: "API Gateway Service"
    category: implementation
    audience: [developer, ops]
    summary: "Gateway configuration, routes, and deployment notes for ingress to backend services."
    related: [service_catalog, architecture_v2]

  # Backend Implementation Files
  - id: llm_client
    path: server/app/services/llm_client.py
    title: "LLM Client Abstraction"
    category: implementation
    audience: [developer]
    summary: "LLMClient class with cloud/local routing based on PHI presence. LLMRequest/LLMResponse dataclasses."
    related: [orchestration_design, security_compliance, rag_service]

  - id: rag_service
    path: server/app/services/rag_service.py
    title: "Query Orchestrator / RAG Service"
    category: implementation
    audience: [developer]
    summary: "QueryOrchestrator class implementing the RAG pipeline. Uses LLMClient for text generation."
    related: [orchestration_design, llm_client, data_model]

  - id: admin_api
    path: server/app/api/admin.py
    title: "Admin API Endpoints"
    category: implementation
    audience: [developer]
    summary: "Admin endpoints for KB management: GET /api/admin/kb/documents, GET /api/admin/kb/indexing-jobs."
    related: [admin_panel_specs, admin_panel_kb_hook, admin_panel_jobs_hook]

  - id: realtime_api
    path: server/app/api/realtime.py
    title: "Realtime WebSocket API"
    category: implementation
    audience: [developer]
    summary: "WebSocket echo stub at /api/realtime/ws/echo. Placeholder for OpenAI Realtime API integration."
    related: [orchestration_design, web_app_specs]

  # Frontend Implementation Files
  - id: unified_chat_voice_ui
    path: docs/UNIFIED_CHAT_VOICE_UI.md
    title: "Unified Chat/Voice UI"
    category: frontend
    audience: [developer, frontend]
    summary: "Three-panel unified interface merging chat and voice mode. Components: UnifiedChatContainer, CollapsibleSidebar, UnifiedInputArea, CollapsibleContextPane."
    related: [web_app_specs, frontend_architecture, voice_mode_pipeline]

  - id: web_app_types
    path: apps/web-app/src/types.ts
    title: "Web App TypeScript Types"
    category: implementation
    audience: [developer]
    summary: "Core types for web app: ChatMessage, Citation, ClinicalContext, APIEnvelope. Aligned with DATA_MODEL.md."
    related: [data_model, web_app_specs, web_app_api_client]

  - id: web_app_api_client
    path: apps/web-app/src/lib/api.ts
    title: "Web App API Client"
    category: implementation
    audience: [developer]
    summary: "fetchAPI helper for API communication, APIError class, envelope unwrapping."
    related: [web_app_types, server_readme]

  - id: web_app_chat_hook
    path: apps/web-app/src/hooks/useChatSession.ts
    title: "Web App Chat Hook"
    category: implementation
    audience: [developer]
    summary: "React hook for chat functionality, calls /api/chat/message endpoint."
    related: [web_app_types, web_app_api_client, web_app_specs]

  - id: admin_panel_types
    path: apps/admin-panel/src/types.ts
    title: "Admin Panel TypeScript Types"
    category: implementation
    audience: [developer]
    summary: "Core types for admin panel: ChatMessage, Citation, ClinicalContext, APIEnvelope. Aligned with DATA_MODEL.md."
    related: [data_model, admin_panel_specs, admin_panel_api_client]

  - id: admin_panel_api_client
    path: apps/admin-panel/src/lib/api.ts
    title: "Admin Panel API Client"
    category: implementation
    audience: [developer]
    summary: "fetchAPI helper for API communication, identical to web-app implementation."
    related: [admin_panel_types, server_readme]

  - id: admin_panel_kb_hook
    path: apps/admin-panel/src/hooks/useKnowledgeDocuments.ts
    title: "Admin Panel KB Documents Hook"
    category: implementation
    audience: [developer]
    summary: "React hook for KB management, calls /api/admin/kb/documents, includes demo data fallback."
    related: [admin_panel_types, admin_panel_api_client, admin_panel_specs]

  - id: admin_panel_jobs_hook
    path: apps/admin-panel/src/hooks/useIndexingJobs.ts
    title: "Admin Panel Indexing Jobs Hook"
    category: implementation
    audience: [developer]
    summary: "React hook for indexing job monitoring, calls /api/admin/kb/jobs, includes demo data fallback."
    related: [admin_panel_types, admin_panel_api_client, admin_panel_specs]

  # AI Assistant Resources
  - id: claude_execution_guide
    path: docs/CLAUDE_EXECUTION_GUIDE.md
    title: "Claude Code Execution Guide"
    category: ai_assistant
    audience: [ai_assistant]
    summary: "Session startup, branch strategy, parallel safety, quality checks."
    related: [claude_prompts, doc_index, start_here]

  - id: claude_prompts
    path: docs/CLAUDE_PROMPTS.md
    title: "Claude Code Prompt Library"
    category: ai_assistant
    audience: [ai_assistant]
    summary: "Ready-to-use prompts for phases, bugfixes, docs, infra."
    related: [claude_execution_guide, development_phases_v2]

  - id: doc_index
    path: docs/DOC_INDEX.yml
    title: "Machine-Readable Documentation Index"
    category: ai_assistant
    audience: [ai_assistant, tooling]
    summary: "This file - canonical registry of all documentation."
    related: [start_here]

  # Enhancement Documentation
  - id: enhancement_summary
    path: docs/ENHANCEMENT_SUMMARY.md
    title: "Documentation Enhancement Summary"
    category: overview
    audience: [developer, pm]
    summary: "Summary of all V2 documentation enhancements, what changed from V1."
    related: [start_here, development_phases_v2]

  - id: phase_02_completion_report
    path: docs/PHASE_02_COMPLETION_REPORT.md
    title: "Phase 2 Completion Report"
    category: phase_reports
    audience: [developer, ai_agent]
    summary: "Detailed report of Phase 2 security and Nextcloud integration work."
    related: [phase_status, development_phases_v2]

  - id: phase_03_completion_report
    path: docs/PHASE_03_COMPLETION_REPORT.md
    title: "Phase 3 Completion Report"
    category: phase_reports
    audience: [developer, ai_agent]
    summary: "Detailed report of Phase 3 API Gateway and core microservices work."
    related: [phase_status, development_phases_v2]

  - id: phase_04_completion_report
    path: docs/PHASE_04_COMPLETION_REPORT.md
    title: "Phase 4 Completion Report"
    category: phase_reports
    audience: [developer, ai_agent]
    summary: "Detailed report of Phase 4 realtime communication foundation with WebSocket endpoint and QueryOrchestrator integration."
    related: [phase_status, development_phases_v2, service_catalog]

  - id: phase_07_completion_report
    path: docs/PHASE_07_COMPLETION_REPORT.md
    title: "Phase 7 Completion Report"
    category: phase_reports
    audience: [developer, ai_agent]
    summary: "Detailed report of Phase 7 Admin Panel & RBAC work."
    related: [phase_status, development_phases_v2]

  - id: nextcloud_apps_design
    path: docs/NEXTCLOUD_APPS_DESIGN.md
    title: "Nextcloud Apps Design"
    category: integration
    audience: [developer, ai_agent]
    summary: "Design and status of the VoiceAssist Nextcloud apps for Phase 6."
    related: [nextcloud_integration, phase_06_nextcloud_apps]

  - id: rest_api_reference
    path: docs/api-reference/rest-api.md
    title: "REST API Reference"
    category: api_reference
    audience: [developer]
    summary: "Endpoint catalogue, authentication, request/response schemas for the VoiceAssist REST API."
    related: [api_gateway_readme, server_readme]

  - id: archive_overview
    path: docs/archive/README.md
    title: "Documentation Archive"
    category: archive
    audience: [developer, pm]
    summary: "Index of legacy and historical documentation retained for reference."
    related: [doc_index]

  # Monorepo Packages
  - id: package_api_client
    path: packages/api-client/README.md
    title: "API Client Package"
    category: packages
    audience: [developer]
    summary: "Typed client helpers for interacting with VoiceAssist services."
    related: [rest_api_reference, api_gateway_readme]

  - id: package_config
    path: packages/config/README.md
    title: "Config Package"
    category: packages
    audience: [developer]
    summary: "Shared configuration utilities and environment management."
    related: [server_readme]

  - id: package_design_tokens
    path: packages/design-tokens/README.md
    title: "Design Tokens Package"
    category: packages
    audience: [developer, ux]
    summary: "Color, typography, spacing, and component tokens for consistent UI."
    related: [web_app_readme, admin_panel_readme]

  - id: package_telemetry
    path: packages/telemetry/README.md
    title: "Telemetry Package"
    category: packages
    audience: [developer, ops]
    summary: "Instrumentation helpers and telemetry pipelines for services and apps."
    related: [observability, server_readme]

  - id: package_types
    path: packages/types/README.md
    title: "Types Package"
    category: packages
    audience: [developer]
    summary: "Shared TypeScript types used across VoiceAssist applications."
    related: [data_model, web_app_types]

  - id: package_ui
    path: packages/ui/README.md
    title: "UI Package"
    category: packages
    audience: [developer, ux]
    summary: "Reusable UI components and styling primitives for web experiences."
    related: [web_app_readme, admin_panel_readme, package_design_tokens]

  - id: package_utils
    path: packages/utils/README.md
    title: "Utils Package"
    category: packages
    audience: [developer]
    summary: "General-purpose utilities shared across services and apps."
    related: [server_readme]

# Task-to-Docs Mapping (for AI assistants)
task_mappings:
  understand_architecture:
    - start_here
    - architecture_v2
    - backend_architecture
    - service_catalog
    - data_model

  implement_backend:
    - data_model
    - service_catalog
    - orchestration_design
    - server_readme
    - semantic_search_design
    - llm_client
    - rag_service
    - admin_api
    - realtime_api

  implement_frontend:
    - web_app_specs
    - data_model
    - web_app_readme
    - web_app_types
    - web_app_api_client
    - web_app_chat_hook

  implement_admin:
    - admin_panel_specs
    - data_model
    - admin_panel_readme
    - admin_panel_types
    - admin_panel_api_client
    - admin_panel_kb_hook
    - admin_panel_jobs_hook

  implement_search:
    - semantic_search_design
    - orchestration_design
    - data_model

  implement_security:
    - security_compliance
    - data_model
    - orchestration_design

  setup_infrastructure:
    - local_development
    - infrastructure_setup
    - architecture_v2

  deploy_production:
    - infrastructure_setup
    - compose_to_k8s
    - observability

  start_phase:
    - phase_status
    - development_phases_v2
    - claude_execution_guide
    - claude_prompts

  implement_tools:
    - tools_integrations
    - orchestration_design
    - data_model
    - security_compliance
    - observability
    - web_app_specs
    - admin_panel_specs
