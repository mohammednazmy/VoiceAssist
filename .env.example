# VoiceAssist Environment Configuration
# Copy this file to .env and fill in real values

#==============================================
# Environment
#==============================================
ENVIRONMENT=development
DEBUG=true

#==============================================
# Database
#==============================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=voiceassist
POSTGRES_PASSWORD=changeme_secure_password
POSTGRES_DB=voiceassist
DATABASE_URL=postgresql://voiceassist:changeme_secure_password@postgres:5432/voiceassist

# Connection Pool Configuration (Phase 7 - P2.5)
DB_POOL_SIZE=20              # Base pool size (default: 20)
DB_MAX_OVERFLOW=40           # Max overflow connections (default: 40)
DB_POOL_RECYCLE=3600         # Recycle connections after N seconds (default: 1 hour)
DB_POOL_TIMEOUT=30           # Connection timeout in seconds (default: 30)

#==============================================
# Redis
#==============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=changeme_redis_password
REDIS_URL=redis://:changeme_redis_password@redis:6379

# Redis Connection Pool Configuration (Phase 7 - P2.5)
REDIS_MAX_CONNECTIONS=50     # Max connections in pool (default: 50)
REDIS_CONNECT_TIMEOUT=5      # Connection timeout in seconds (default: 5)
REDIS_HEALTH_CHECK_INTERVAL=30  # Health check interval in seconds (default: 30)

#==============================================
# Qdrant
#==============================================
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_URL=http://qdrant:6333
QDRANT_COLLECTION=medical_knowledge

#==============================================
# Nextcloud
#==============================================
NEXTCLOUD_URL=http://nextcloud
NEXTCLOUD_ADMIN_USER=admin
NEXTCLOUD_ADMIN_PASSWORD=changeme_nextcloud_admin
NEXTCLOUD_DB_PASSWORD=changeme_nextcloud_db

#==============================================
# Keycloak
#==============================================
KEYCLOAK_URL=https://keycloak.local
KEYCLOAK_REALM=voiceassist
KEYCLOAK_CLIENT_ID=voiceassist-client
KEYCLOAK_CLIENT_SECRET=changeme_keycloak_secret

#==============================================
# OpenAI
#==============================================
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-3-large
OPENAI_TIMEOUT_SEC=30

# OpenAI Realtime API (Voice Mode)
REALTIME_ENABLED=true
REALTIME_MODEL=gpt-4o-realtime-preview-2024-10-01
REALTIME_BASE_URL=wss://api.openai.com/v1/realtime
REALTIME_TOKEN_EXPIRY_SEC=300

#==============================================
# Voice Providers (TTS/STT)
#==============================================
# Text-to-Speech provider selection
TTS_PROVIDER=openai  # Options: openai, elevenlabs, azure, gcp
TTS_VOICE=alloy      # Default voice for TTS
# TTS_ENDPOINT=       # Optional custom endpoint
# TTS_API_KEY=        # Optional separate TTS key (if not using OPENAI_API_KEY)

# Speech-to-Text provider selection
STT_PROVIDER=openai  # Options: openai, deepgram, azure, gcp
# STT_ENDPOINT=       # Optional custom endpoint

# ElevenLabs TTS Provider (optional)
# ELEVENLABS_API_KEY=your-elevenlabs-api-key-here

# Deepgram STT Provider (optional)
# DEEPGRAM_API_KEY=your-deepgram-api-key-here

# Google AI Studio Provider (optional)
# GOOGLE_STUDIO_API_KEY=your-google-studio-api-key-here

# DeepSeek LLM Provider (optional)
# DEEPSEEK_API_KEY=your-deepseek-api-key-here

#==============================================
# Security
#==============================================
SECRET_KEY=changeme_generate_with_openssl_rand_hex_32
JWT_SECRET=changeme_generate_with_openssl_rand_hex_32
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

#==============================================
# External Services
#==============================================
UPTODATE_API_KEY=your_uptodate_api_key_if_available
OPENEVIDENCE_API_KEY=your_openevidence_api_key

#==============================================
# Observability
#==============================================
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=changeme_grafana_admin

#==============================================
# Application Settings
#==============================================
MAX_UPLOAD_SIZE=104857600
LOG_LEVEL=INFO
ENABLE_CORS=true
ALLOWED_ORIGINS=https://voiceassist.local,https://nextcloud.local
