[flake8]
max-line-length = 120
extend-ignore = E203, W503
per-file-ignores =
    # Email templates contain long CSS lines in HTML f-strings
    services/api-gateway/app/services/email_service.py: E501
    # Alembic migrations with long prompts in multi-line strings
    services/api-gateway/alembic/versions/025_add_prompt_model_settings.py: E501
    # Engines use forward references with from __future__ import annotations
    # F821 errors are false positives for type hints resolved at runtime
    services/api-gateway/app/engines/*.py: F821
    services/api-gateway/app/engines/*/*.py: F821
    services/api-gateway/app/engines/*/*/*.py: F821
    # Engine __init__.py files have deferred imports for circular dependency avoidance
    services/api-gateway/app/engines/*/__init__.py: E402
    # Lab trending and EHR commands have long clinical alert/command strings
    services/api-gateway/app/engines/clinical_engine/lab_trending.py: E501
    services/api-gateway/app/engines/dictation_engine/plugins/ehr_commands.py: E501
    # Care gaps has deferred imports
    services/api-gateway/app/engines/clinical_engine/care_gaps.py: E402
    # Query classifier uses 'l' for list comprehensions (common pattern)
    services/api-gateway/app/engines/conversation_engine/query_classifier.py: E741, F821
