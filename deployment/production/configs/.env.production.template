################################################################################
# VoiceAssist Production Environment Configuration
#
# This is a template for production environment variables.
# Copy this file to /opt/voiceassist/.env and update with actual values.
#
# IMPORTANT: Never commit this file with real secrets to version control!
################################################################################

#------------------------------------------------------------------------------
# General Configuration
#------------------------------------------------------------------------------
ENVIRONMENT=production
LOG_LEVEL=INFO
DEBUG=false

#------------------------------------------------------------------------------
# Domain and URLs
#------------------------------------------------------------------------------
DOMAIN=voiceassist.example.com
API_URL=https://voiceassist.example.com
NEXTCLOUD_URL=https://nextcloud.example.com

#------------------------------------------------------------------------------
# Database Configuration
#------------------------------------------------------------------------------
POSTGRES_USER=voiceassist
POSTGRES_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
POSTGRES_DB=voiceassist
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
DATABASE_URL=postgresql://voiceassist:CHANGE_ME_TO_STRONG_PASSWORD@postgres:5432/voiceassist

# Database Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

#------------------------------------------------------------------------------
# Redis Configuration
#------------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
REDIS_URL=redis://:CHANGE_ME_TO_STRONG_PASSWORD@redis:6379/0
REDIS_DB=0

# Redis Cache Settings
REDIS_CACHE_TTL=3600
REDIS_MAX_CONNECTIONS=50

#------------------------------------------------------------------------------
# Qdrant Vector Database
#------------------------------------------------------------------------------
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_URL=http://qdrant:6333
QDRANT_API_KEY=CHANGE_ME_TO_STRONG_API_KEY

# Vector Settings
EMBEDDING_DIMENSION=1536
COLLECTION_NAME=medical_knowledge

#------------------------------------------------------------------------------
# Security & Authentication
#------------------------------------------------------------------------------
SECRET_KEY=CHANGE_ME_TO_RANDOM_64_CHAR_STRING
JWT_SECRET_KEY=CHANGE_ME_TO_RANDOM_64_CHAR_STRING
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Requirements
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGITS=true
PASSWORD_REQUIRE_SPECIAL=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

#------------------------------------------------------------------------------
# OpenAI Configuration
#------------------------------------------------------------------------------
OPENAI_API_KEY=sk-CHANGE_ME_TO_YOUR_OPENAI_API_KEY
OPENAI_MODEL=gpt-4
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_MAX_TOKENS=2048
OPENAI_TEMPERATURE=0.7

#------------------------------------------------------------------------------
# Email / SMTP Configuration
#------------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=CHANGE_ME_TO_APP_PASSWORD
SMTP_FROM=noreply@voiceassist.example.com
SMTP_FROM_NAME=VoiceAssist
SMTP_TLS=true
SMTP_SSL=false

# Email Settings
ADMIN_EMAIL=admin@voiceassist.example.com
SUPPORT_EMAIL=support@voiceassist.example.com

#------------------------------------------------------------------------------
# Nextcloud Integration
#------------------------------------------------------------------------------
NEXTCLOUD_ADMIN_USER=admin
NEXTCLOUD_ADMIN_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
NEXTCLOUD_USERNAME=voiceassist
NEXTCLOUD_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
NEXTCLOUD_API_TOKEN=CHANGE_ME_TO_NEXTCLOUD_TOKEN

# Nextcloud Database
MYSQL_ROOT_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
MYSQL_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
MYSQL_DATABASE=nextcloud
MYSQL_USER=nextcloud

#------------------------------------------------------------------------------
# Monitoring & Observability
#------------------------------------------------------------------------------
# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=30d

# Grafana
GRAFANA_ENABLED=true
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD

# Jaeger Tracing
JAEGER_ENABLED=true
JAEGER_AGENT_HOST=jaeger
JAEGER_AGENT_PORT=6831
JAEGER_COLLECTOR_ENDPOINT=http://jaeger:14268/api/traces
JAEGER_SAMPLING_RATE=0.1

# Loki Logging
LOKI_ENABLED=true
LOKI_URL=http://loki:3100

#------------------------------------------------------------------------------
# Application Settings
#------------------------------------------------------------------------------
# API Gateway
API_WORKERS=4
API_MAX_REQUESTS=1000
API_MAX_REQUESTS_JITTER=100
API_TIMEOUT=60

# Worker Service
WORKER_CONCURRENCY=4
WORKER_MAX_TASKS_PER_CHILD=1000

# Session Settings
SESSION_TIMEOUT_MINUTES=30
MAX_SESSIONS_PER_USER=5

# Upload Limits
MAX_UPLOAD_SIZE_MB=50
ALLOWED_FILE_TYPES=pdf,txt,md,docx,jpg,png

#------------------------------------------------------------------------------
# HIPAA Compliance
#------------------------------------------------------------------------------
# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years
AUDIT_LOG_LEVEL=INFO

# Data Encryption
ENCRYPTION_AT_REST=true
ENCRYPTION_KEY=CHANGE_ME_TO_32_BYTE_BASE64_KEY

# PHI Redaction
PHI_REDACTION_ENABLED=true
PHI_PATTERNS=ssn,dob,mrn,phone

#------------------------------------------------------------------------------
# Backup Configuration
#------------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # 2 AM daily
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=CHANGE_ME_TO_GPG_KEY_ID
BACKUP_S3_BUCKET=voiceassist-backups
BACKUP_S3_REGION=us-east-1

# AWS Credentials (for S3 backups)
AWS_ACCESS_KEY_ID=CHANGE_ME_TO_AWS_KEY
AWS_SECRET_ACCESS_KEY=CHANGE_ME_TO_AWS_SECRET

#------------------------------------------------------------------------------
# High Availability
#------------------------------------------------------------------------------
# PostgreSQL Replication
POSTGRES_REPLICA_ENABLED=true
POSTGRES_REPLICA_HOST=postgres-replica
POSTGRES_REPLICA_PORT=5432
POSTGRES_REPLICATION_USER=replicator
POSTGRES_REPLICATION_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD

# Load Balancing
LOAD_BALANCER_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

#------------------------------------------------------------------------------
# Feature Flags
#------------------------------------------------------------------------------
FEATURE_VOICE_ENABLED=true
FEATURE_RAG_ENABLED=true
FEATURE_CALENDAR_ENABLED=true
FEATURE_DOCUMENTS_ENABLED=true
FEATURE_ADMIN_PANEL_ENABLED=true

#------------------------------------------------------------------------------
# Development/Debug (disable in production)
#------------------------------------------------------------------------------
ENABLE_SWAGGER_UI=false
ENABLE_API_DOCS=false
ENABLE_PROFILING=false
ENABLE_DEBUG_TOOLBAR=false

################################################################################
# End of Configuration
################################################################################
